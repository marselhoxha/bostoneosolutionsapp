{"ast":null,"code":"import { BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../navbar/navbar.component\";\nfunction CustomersComponent_ng_container_0_ng_container_1_span_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 55);\n  }\n}\nfunction CustomersComponent_ng_container_0_ng_container_1_span_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomersComponent_ng_container_0_ng_container_1_span_108_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Update\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2, a3) {\n  return [a0, a1, a2, a3];\n};\nconst _c1 = function (a1, a2) {\n  return [\"/invoices\", a1, a2];\n};\nfunction CustomersComponent_ng_container_0_ng_container_1_tr_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 56);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 57);\n    i0.ɵɵtext(15, \"Print\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const invoice_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r8.invoiceNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r8.services);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(10, _c0, invoice_r8.status === \"PAID\" ? \" bg-success\" : \"\", invoice_r8.status === \"PENDING\" ? \" bg-primary\" : \"\", invoice_r8.status === \"OVERDUE\" ? \" bg-warning\" : \"\", invoice_r8.status === \"CANCELED\" ? \" bg-danger\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", invoice_r8.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 7, invoice_r8.date, \"mediumDate\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"$\", invoice_r8.total, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(15, _c1, invoice_r8.id, invoice_r8.invoiceNumber));\n  }\n}\nconst _c2 = function () {\n  return [\"/\"];\n};\nconst _c3 = function () {\n  return [\"/customers\"];\n};\nfunction CustomersComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-navbar\", 3);\n    i0.ɵɵelementStart(2, \"section\")(3, \"div\", 4)(4, \"nav\", 5)(5, \"ol\", 6)(6, \"li\", 7)(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"li\", 7)(10, \"a\", 8);\n    i0.ɵɵtext(11, \"Customers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"li\", 9);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 11)(16, \"div\", 12)(17, \"div\", 13)(18, \"div\", 14);\n    i0.ɵɵelement(19, \"img\", 15);\n    i0.ɵɵelementStart(20, \"div\", 16)(21, \"h4\", 17);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\", 18);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 19);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(27, \"div\", 12)(28, \"div\", 13)(29, \"h5\", 20);\n    i0.ɵɵtext(30, \"Total Invoices\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"h6\", 21);\n    i0.ɵɵtext(32, \"Customer Total Invoices\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"ul\", 22)(34, \"li\", 23);\n    i0.ɵɵtext(35, \" Total Current Invoices \");\n    i0.ɵɵelementStart(36, \"span\", 24);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(38, \"div\", 12)(39, \"div\", 13)(40, \"h5\", 20);\n    i0.ɵɵtext(41, \"Total Billed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"h6\", 21);\n    i0.ɵɵtext(43, \"Customer Total Billed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"ul\", 22)(45, \"li\", 23);\n    i0.ɵɵtext(46, \" Total Billed \");\n    i0.ɵɵelementStart(47, \"span\", 25);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(49, \"div\", 26)(50, \"div\", 12)(51, \"div\", 13)(52, \"h5\", 20);\n    i0.ɵɵtext(53, \"Profile Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"form\", 27, 28);\n    i0.ɵɵlistener(\"ngSubmit\", function CustomersComponent_ng_container_0_ng_container_1_Template_form_ngSubmit_54_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const _r3 = i0.ɵɵreference(55);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.updateCustomer(_r3));\n    });\n    i0.ɵɵelement(56, \"input\", 29);\n    i0.ɵɵpipe(57, \"async\");\n    i0.ɵɵelement(58, \"input\", 30);\n    i0.ɵɵpipe(59, \"async\");\n    i0.ɵɵelementStart(60, \"div\", 31)(61, \"label\", 32);\n    i0.ɵɵtext(62, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"div\", 33);\n    i0.ɵɵelement(64, \"input\", 34);\n    i0.ɵɵpipe(65, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(66, \"div\", 31)(67, \"label\", 35);\n    i0.ɵɵtext(68, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"div\", 33);\n    i0.ɵɵelement(70, \"input\", 36);\n    i0.ɵɵpipe(71, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(72, \"div\", 31)(73, \"label\", 37);\n    i0.ɵɵtext(74, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"div\", 33);\n    i0.ɵɵelement(76, \"input\", 38);\n    i0.ɵɵpipe(77, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(78, \"div\", 31)(79, \"label\", 39);\n    i0.ɵɵtext(80, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(81, \"div\", 33);\n    i0.ɵɵelement(82, \"input\", 40);\n    i0.ɵɵpipe(83, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(84, \"div\", 31)(85, \"label\", 41);\n    i0.ɵɵtext(86, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(87, \"div\", 33);\n    i0.ɵɵelement(88, \"input\", 42);\n    i0.ɵɵpipe(89, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(90, \"div\", 31)(91, \"label\", 43);\n    i0.ɵɵtext(92, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(93, \"div\", 33);\n    i0.ɵɵelement(94, \"input\", 44);\n    i0.ɵɵpipe(95, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(96, \"div\", 31)(97, \"label\", 45);\n    i0.ɵɵtext(98, \"Image URL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(99, \"div\", 33);\n    i0.ɵɵelement(100, \"input\", 46);\n    i0.ɵɵpipe(101, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(102, \"button\", 47);\n    i0.ɵɵpipe(103, \"async\");\n    i0.ɵɵtemplate(104, CustomersComponent_ng_container_0_ng_container_1_span_104_Template, 1, 0, \"span\", 48);\n    i0.ɵɵpipe(105, \"async\");\n    i0.ɵɵtemplate(106, CustomersComponent_ng_container_0_ng_container_1_span_106_Template, 2, 0, \"span\", 49);\n    i0.ɵɵpipe(107, \"async\");\n    i0.ɵɵtemplate(108, CustomersComponent_ng_container_0_ng_container_1_span_108_Template, 2, 0, \"span\", 49);\n    i0.ɵɵpipe(109, \"async\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(110, \"div\", 10)(111, \"div\", 50)(112, \"div\", 12)(113, \"div\", 13)(114, \"h5\", 20);\n    i0.ɵɵtext(115, \"Invoices\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(116, \"h6\", 21);\n    i0.ɵɵtext(117, \"Customer Invoices\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(118, \"table\", 51)(119, \"thead\", 52)(120, \"tr\")(121, \"th\", 53);\n    i0.ɵɵtext(122, \"Invoice Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(123, \"th\", 53);\n    i0.ɵɵtext(124, \"Service\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(125, \"th\", 53);\n    i0.ɵɵtext(126, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(127, \"th\", 53);\n    i0.ɵɵtext(128, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(129, \"th\", 53);\n    i0.ɵɵtext(130, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(131, \"th\", 53);\n    i0.ɵɵtext(132, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(133, \"tbody\");\n    i0.ɵɵtemplate(134, CustomersComponent_ng_container_0_ng_container_1_tr_134_Template, 16, 18, \"tr\", 54);\n    i0.ɵɵelementEnd()()()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(60, _c2));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(61, _c3));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"src\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(62, _c0, (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status) === \"ACTIVE\" ? \" bg-success\" : \"\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status) === \"PENDING\" ? \" bg-primary\" : \"\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status) === \"BANNED\" ? \" bg-danger\" : \"\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status) === \"INACTIVE\" ? \" bg-info\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status, \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\" \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.invoices.length, \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\" $ \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.invoices.length, \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.id)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(57, 34, ctx_r2.isLoading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.createdAt)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(59, 36, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.name)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(65, 38, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.email)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(71, 40, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.type)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(77, 42, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.status)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(83, 44, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.address)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(89, 46, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.phone)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(95, 48, ctx_r2.isLoading$));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.imageUrl)(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(101, 50, ctx_r2.isLoading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user.roleName) === \"ROLE_USER\" || i0.ɵɵpipeBind1(103, 52, ctx_r2.isLoading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(105, 54, ctx_r2.isLoading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(107, 56, ctx_r2.isLoading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(109, 58, ctx_r2.isLoading$));\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"ngForOf\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.invoices);\n  }\n}\nfunction CustomersComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 1);\n    i0.ɵɵtemplate(1, CustomersComponent_ng_container_0_ng_container_1_Template, 135, 67, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngSwitch\", state_r1.dataState);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADED);\n  }\n}\nexport class CustomersComponent {\n  constructor(router, customerService) {\n    this.router = router;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.currentPageSubject = new BehaviorSubject(0);\n    this.currentPage$ = this.currentPageSubject.asObservable();\n    this.showLogsSubject = new BehaviorSubject(false);\n    this.showLogs$ = this.showLogsSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.customersState$ = this.customerService.searchCustomers$().pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n  searchCustomers(searchForm) {\n    this.currentPageSubject.next(0);\n    this.customersState$ = this.customerService.searchCustomers$(searchForm.value.name).pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADED,\n      appData: this.dataSubject.value\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n  goToPage(pageNumber, name) {\n    this.customersState$ = this.customerService.searchCustomers$(name, pageNumber).pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      this.currentPageSubject.next(pageNumber);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADED,\n      appData: this.dataSubject.value\n    }), catchError(error => {\n      return of({\n        dataState: DataState.LOADED,\n        error,\n        appData: this.dataSubject.value\n      });\n    }));\n  }\n  goToNextOrPreviousPage(direction, name) {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 : this.currentPageSubject.value - 1, name);\n  }\n  selectCustomer(customer) {\n    this.router.navigate([`/customers/${customer.id}`]);\n  }\n}\nCustomersComponent.ɵfac = function CustomersComponent_Factory(t) {\n  return new (t || CustomersComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nCustomersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomersComponent,\n  selectors: [[\"app-customers\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[3, \"ngSwitch\", 4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [3, \"user\"], [1, \"container\"], [\"aria-label\", \"breadcrumb\", 2, \"margin-top\", \"8px\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [3, \"routerLink\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"active\"], [1, \"row\"], [1, \"col-xl-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"d-flex\", \"align-items-start\"], [\"alt\", \"profile-image\", 1, \"rounded-circle\", \"avatar-lg\", \"img-thumbnail\", 2, \"position\", \"relative\", 3, \"src\"], [1, \"w-100\", \"ms-4\"], [1, \"my-0\"], [1, \"\", 2, \"font-size\", \"13px\"], [1, \"badge\", 2, \"position\", \"absolute\", \"bottom\", \"60px\", \"left\", \"113px\", \"top\", \"70px\", \"font-size\", \"11px\", \"height\", \"18px\", 3, \"ngClass\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"], [1, \"list-group\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\", 2, \"font-size\", \"20px\"], [1, \"\", 2, \"font-size\", \"20px\"], [1, \"badge\", \"bg-success\", 2, \"font-size\", \"20px\"], [1, \"col-xl-8\"], [3, \"ngSubmit\"], [\"customerForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"id\", 3, \"ngModel\", \"disabled\"], [\"type\", \"hidden\", \"name\", \"createdAt\", 3, \"ngModel\", \"disabled\"], [1, \"row\", \"mb-3\"], [\"for\", \"name\", 1, \"col-sm-3\", \"col-form-label\"], [1, \"col-sm-9\"], [\"type\", \"text\", \"name\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"email\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"type\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"type\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"status\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"address\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"address\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"phone\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"phone\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"for\", \"imageurl\", 1, \"col-sm-3\", \"col-form-label\"], [\"type\", \"text\", \"name\", \"imageUrl\", 1, \"form-control\", 3, \"ngModel\", \"disabled\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"float-end\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm\", \"role\", \"status\", \"aria-hidden\", \"true\", \"style\", \"margin-right: 5px;\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"col-xl-12\"], [1, \"table\", \"table-hover\"], [1, \"table-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"role\", \"status\", \"aria-hidden\", \"true\", 1, \"spinner-border\", \"spinner-border-sm\", 2, \"margin-right\", \"5px\"], [1, \"badge\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"routerLink\"]],\n  template: function CustomersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomersComponent_ng_container_0_Template, 2, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.customerState$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgSwitch, i3.NgSwitchCase, i1.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.NavbarComponent, i3.AsyncPipe, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["BehaviorSubject","map","startWith","catchError","of","DataState","i0","CustomersComponent","constructor","router","customerService","isLoadingSubject","asObservable","currentPageSubject","showLogsSubject","ngOnInit","customersState$","searchCustomers$","pipe","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","searchCustomers","searchForm","value","name","goToPage","pageNumber","goToNextOrPreviousPage","direction","selectCustomer","customer","navigate","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/customers/customers.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/customers/customers.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { EventType, Router } from '@angular/router';\nimport { Observable, BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse, Page, Profile } from 'src/app/interface/appstates';\nimport { Customer } from 'src/app/interface/customer';\nimport { State } from 'src/app/interface/state';\nimport { User } from 'src/app/interface/user';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-customers',\n  templateUrl: './customers.component.html',\n  styleUrls: ['./customers.component.css']\n})\nexport class CustomersComponent implements OnInit {\n  customersState$: Observable<State<CustomHttpResponse<Page<Customer> & User>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Page<Customer> & User>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  private currentPageSubject = new BehaviorSubject<number>(0);\n  currentPage$ = this.currentPageSubject.asObservable();\n  private showLogsSubject = new BehaviorSubject<boolean>(false);\n  showLogs$ = this.showLogsSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private router: Router, private customerService: CustomerService) { }\n\n  ngOnInit(): void {\n    this.customersState$ = this.customerService.searchCustomers$()\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADING }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n\n  searchCustomers(searchForm: NgForm): void {\n    this.currentPageSubject.next(0);\n    this.customersState$ = this.customerService.searchCustomers$(searchForm.value.name)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADED, appData: this.dataSubject.value }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n\n  goToPage(pageNumber?: number, name?: string): void {\n    this.customersState$ = this.customerService.searchCustomers$(name, pageNumber)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          this.currentPageSubject.next(pageNumber);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADED, appData: this.dataSubject.value }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.LOADED, error, appData: this.dataSubject.value })\n        })\n      )\n  }\n\n  goToNextOrPreviousPage(direction?: string, name?: string): void {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 : this.currentPageSubject.value - 1, name);\n  }\n\n  selectCustomer(customer: Customer): void {\n    this.router.navigate([`/customers/${customer.id}`]);\n  }\n\n}\n","<ng-container *ngIf=\"(customerState$ | async) as state\" [ngSwitch]=\"state.dataState\">\n   <ng-container *ngSwitchCase=\"DataState.LOADED\">\n      <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n     <section>\n       <div class=\"container\">\n          <nav aria-label=\"breadcrumb\" style=\"margin-top: 8px;\">\n             <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\"><a [routerLink]=\"['/']\">Home</a></li>\n                <li class=\"breadcrumb-item\"><a [routerLink]=\"['/customers']\">Customers</a></li>\n                <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ state?.appData?.data?.customer.name }}</li>\n             </ol>\n          </nav>\n          <div class=\"row\">\n             <div class=\"col-xl-4\">\n                <div class=\"card\">\n                   <div class=\"card-body\">\n                      <div class=\"d-flex align-items-start\">\n                         <img [src]=\"state?.appData?.data?.customer.imageUrl\" style=\"position: relative\" class=\"rounded-circle avatar-lg img-thumbnail\" alt=\"profile-image\">\n                         <div class=\"w-100 ms-4\">\n                            <h4 class=\"my-0\">{{ state?.appData?.data?.customer.name }}</h4>\n                            <p class=\"\" style=\"font-size: 13px;\">{{ state?.appData?.data?.customer.email }}</p>\n                               <span class=\"badge\" style=\"position: absolute;bottom:60px;left: 113px; top: 70px;font-size: 11px; height: 18px;\"\n                               [ngClass]=\"[\n                                    state?.appData?.data?.customer.status === 'ACTIVE' ? ' bg-success' : '',\n                                    state?.appData?.data?.customer.status === 'PENDING' ? ' bg-primary' : '',\n                                    state?.appData?.data?.customer.status === 'BANNED' ? ' bg-danger' : '',\n                                    state?.appData?.data?.customer.status === 'INACTIVE' ? ' bg-info' : ''\n                                    ]\" >\n                                 {{ state?.appData?.data?.customer.status }}\n                         </span>\n                      </div>\n                   </div>\n                   </div>\n                </div>\n                <div class=\"card\">\n                   <div class=\"card-body\">\n                      <h5 class=\"card-title\">Total Invoices</h5>\n                      <h6 class=\"card-subtitle mb-2 text-muted\">Customer Total Invoices</h6>\n                      <ul class=\"list-group\">\n                         <li class=\"list-group-item d-flex justify-content-between align-items-center\" style=\"font-size: 20px;\">\n                            Total Current Invoices\n                            <span class=\"\" style=\"font-size: 20px;\">\n                              {{ state?.appData?.data?.customer.invoices.length }}\n                            </span>\n                         </li>\n                      </ul>\n                   </div>\n                </div>\n                <div class=\"card\">\n                   <div class=\"card-body\">\n                      <h5 class=\"card-title\">Total Billed</h5>\n                      <h6 class=\"card-subtitle mb-2 text-muted\">Customer Total Billed</h6>\n                      <ul class=\"list-group\">\n                         <li class=\"list-group-item d-flex justify-content-between align-items-center\" style=\"font-size: 20px;\">\n                            Total Billed\n                            <span class=\"badge bg-success\" style=\"font-size: 20px;\">\n                               $ {{ state?.appData?.data?.customer.invoices.length }}\n                            </span>\n                         </li>\n                      </ul>\n                   </div>\n                </div>\n             </div>\n             <div class=\"col-xl-8\">\n                <div class=\"card\">\n                   <div class=\"card-body\">\n                      <h5 class=\"card-title\">Profile Details</h5>\n                      <form #customerForm=\"ngForm\" (ngSubmit)=\"updateCustomer(customerForm)\">\n                         <input type=\"hidden\" [ngModel]=\"state?.appData?.data?.customer.id\" name=\"id\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\">\n                         <input type=\"hidden\" [ngModel]=\"state?.appData?.data?.customer.createdAt\" name=\"createdAt\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\">\n                         <div class=\"row mb-3\">\n                            <label for=\"name\" class=\"col-sm-3 col-form-label\">First Name</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.name\" name=\"name\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"email\" class=\"col-sm-3 col-form-label\">Email</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.email\" name=\"email\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"type\" class=\"col-sm-3 col-form-label\">Type</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.type\" name=\"type\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"status\" class=\"col-sm-3 col-form-label\">Status</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.status\" name=\"status\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"address\" class=\"col-sm-3 col-form-label\">Address</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.address\" name=\"address\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"phone\" class=\"col-sm-3 col-form-label\">Phone</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.phone\" name=\"phone\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <div class=\"row mb-3\">\n                            <label for=\"imageurl\" class=\"col-sm-3 col-form-label\">Image URL</label>\n                            <div class=\"col-sm-9\">\n                               <input type=\"text\" [ngModel]=\"state?.appData?.data?.customer.imageUrl\" name=\"imageUrl\" [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" class=\"form-control\">\n                            </div>\n                         </div>\n                         <button [disabled]=\"state?.appData?.data?.user.roleName === 'ROLE_USER' || (isLoading$ | async)\" type=\"submit\" class=\"btn btn-primary float-end\">\n                            <span *ngIf=\"isLoading$ | async\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\" style=\"margin-right: 5px;\"></span>\n                            <span *ngIf=\"isLoading$ | async\">Loading...</span>\n                            <span *ngIf=\"!(isLoading$ | async)\">Update</span>\n                         </button>\n                      </form>\n                   </div>\n                </div>\n             </div>\n          </div>\n          <div class=\"row\">\n             <div class=\"col-xl-12\">\n                <div class=\"card\">\n                   <div class=\"card-body\">\n                      <h5 class=\"card-title\">Invoices</h5>\n                      <h6 class=\"card-subtitle mb-2 text-muted\">Customer Invoices</h6>\n                      <table class=\"table table-hover\">\n                         <thead class=\"table-dark\">\n                            <tr>\n                               <th scope=\"col\">Invoice Number</th>\n                               <th scope=\"col\">Service</th>\n                               <th scope=\"col\">Status</th>\n                               <th scope=\"col\">Date</th>\n                               <th scope=\"col\">Total</th>\n                               <th scope=\"col\">Action</th>\n                            </tr>\n                         </thead>\n                         <tbody>\n                            <tr *ngFor=\"let invoice of state?.appData?.data?.customer.invoices\">\n                               <td>{{ invoice.invoiceNumber }}</td>\n                               <td>{{ invoice.services }}</td>\n                               <td>\n                                  <span class=\"badge\"\n                                  [ngClass]=\"[\n                                    invoice.status === 'PAID' ? ' bg-success' : '',\n                                    invoice.status === 'PENDING' ? ' bg-primary' : '',\n                                    invoice.status === 'OVERDUE' ? ' bg-warning' : '',\n                                    invoice.status === 'CANCELED' ? ' bg-danger' : ''\n                                    ]\">\n                                     {{ invoice.status }}\n                                  </span>\n                               </td>\n                               <td>{{ invoice.date | date: 'mediumDate' }}</td>\n                               <td>${{ invoice.total }}</td>\n                               <td>\n                                  <button type=\"button\" [routerLink]=\"['/invoices', invoice.id, invoice.invoiceNumber]\" class=\"btn btn-info btn-sm\">Print</button>\n                               </td>\n                            </tr>\n                         </tbody>\n                      </table>\n                   </div>\n                </div>\n             </div>\n          </div>\n       </div>\n    </section>\n   </ng-container>\n    </ng-container>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}