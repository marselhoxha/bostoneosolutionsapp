{"ast":null,"code":"import { BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user.service\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../navbar/navbar.component\";\nimport * as i6 from \"../stats/stats.component\";\nconst _c0 = function (a0, a1, a2, a3) {\n  return [a0, a1, a2, a3];\n};\nconst _c1 = function (a1) {\n  return [\"/customers\", a1];\n};\nfunction HomeComponent_ng_container_0_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 18)(1, \"th\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 21);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 22);\n    i0.ɵɵtext(18, \"View\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const customer_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", customer_r4.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(10, _c0, customer_r4.status === \"ACTIVE\" ? \" bg-success\" : \"\", customer_r4.status === \"PENDING\" ? \" bg-primary\" : \"\", customer_r4.status === \"BANNED\" ? \" bg-danger\" : \"\", customer_r4.status === \"INACTIVE\" ? \" bg-info\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c1, customer_r4.id));\n  }\n}\nfunction HomeComponent_ng_container_0_nav_38_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 28)(1, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_li_6_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.goToPage(i_r7));\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r7 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i_r7 == i0.ɵɵpipeBind1(2, 2, ctx_r5.currentPage$) ? \" active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r7 + 1, \" \");\n  }\n}\nconst _c2 = function () {\n  return [];\n};\nfunction HomeComponent_ng_container_0_nav_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 23)(1, \"ul\", 24)(2, \"li\", 25);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementStart(4, \"a\", 26);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.goToNextOrPreviousPage(\"backward\"));\n    });\n    i0.ɵɵtext(5, \"\\u00AB Prev\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, HomeComponent_ng_container_0_nav_38_li_6_Template, 4, 4, \"li\", 27);\n    i0.ɵɵelementStart(7, \"li\", 25);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementStart(9, \"a\", 26);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.goToNextOrPreviousPage(\"forward\"));\n    });\n    i0.ɵɵtext(10, \"Next \\u00BB\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", 0 == i0.ɵɵpipeBind1(3, 3, ctx_r3.currentPage$) ? \" disabled\" : \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(7, _c2).constructor(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages) - 1 == i0.ɵɵpipeBind1(8, 5, ctx_r3.currentPage$) ? \" disabled\" : \"\");\n  }\n}\nfunction HomeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1);\n    i0.ɵɵelement(2, \"app-navbar\", 1)(3, \"app-stats\", 2);\n    i0.ɵɵelementStart(4, \"section\")(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6);\n    i0.ɵɵtext(9, \" 5% \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 7)(11, \"h4\", 8);\n    i0.ɵɵtext(12, \"Customers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"h4\", 9);\n    i0.ɵɵelement(15, \"i\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 11)(17, \"table\", 12)(18, \"thead\")(19, \"tr\")(20, \"th\", 13);\n    i0.ɵɵtext(21, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 14);\n    i0.ɵɵtext(23, \"Photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 14);\n    i0.ɵɵtext(25, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 14);\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 14);\n    i0.ɵɵtext(29, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 14);\n    i0.ɵɵtext(31, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 14);\n    i0.ɵɵtext(33, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\", 14);\n    i0.ɵɵtext(35, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tbody\", 15);\n    i0.ɵɵtemplate(37, HomeComponent_ng_container_0_tr_37_Template, 19, 17, \"tr\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(38, HomeComponent_ng_container_0_nav_38_Template, 11, 8, \"nav\", 17);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"stats\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.stats);\n    i0.ɵɵadvance(34);\n    i0.ɵɵproperty(\"ngForOf\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content.length) > 0);\n  }\n}\nexport class HomeComponent {\n  constructor(userService, customerService) {\n    this.userService = userService;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.currentPageSubject = new BehaviorSubject(0);\n    this.currentPage$ = this.currentPageSubject.asObservable();\n    this.showLogsSubject = new BehaviorSubject(false);\n    this.showLogs$ = this.showLogsSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.homeState$ = this.customerService.customers$().pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n  goToPage(pageNumber) {\n    this.homeState$ = this.customerService.customers$(pageNumber).pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      this.currentPageSubject.next(pageNumber);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADED,\n      appData: this.dataSubject.value\n    }), catchError(error => {\n      return of({\n        dataState: DataState.LOADED,\n        error,\n        appData: this.dataSubject.value\n      });\n    }));\n  }\n  goToNextOrPreviousePage(direction) {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 : this.currentPageSubject.value - 1);\n  }\n  selectCustomer(customer) {}\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"user\"], [3, \"stats\"], [1, \"container\"], [1, \"row\", \"mt-3\"], [1, \"progress\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\"], [1, \"col\"], [1, \"fw-bold\", \"text-start\"], [1, \"fw-bold\", \"text-end\"], [1, \"bi\", \"bi-file-earmark-excel\", 2, \"cursor\", \"pointer\", \"color\", \"green\", \"font-size\", \"30px\"], [1, \"col-xm-12\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\", 1, \"text-center\"], [\"scope\", \"col\"], [1, \"table-body\"], [\"class\", \"cell-1\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Page navigation example\", 4, \"ngIf\"], [1, \"cell-1\"], [1, \"text-center\"], [\"width\", \"42\", \"height\", \"42\", 1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"badge\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"routerLink\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\", \"justify-content-end\"], [1, \"page-item\", \"pointer\", 3, \"ngClass\"], [1, \"page-link\", 3, \"click\"], [\"class\", \"page-item pointer\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-item\", \"pointer\"], [1, \"page-link\", 3, \"ngClass\", \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_ng_container_0_Template, 39, 4, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.homeState$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i5.NavbarComponent, i6.StatsComponent, i3.AsyncPipe],\n  styles: [\".disabled[_ngcontent-%COMP%]{\\n    pointer-events: none;\\n    opacity: 0.6;\\n}\\n\\n\\n.container[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n    padding-left: 15px;\\n    padding-right: 15px;\\n}\\n\\n\\n.table-responsive[_ngcontent-%COMP%] {\\n    overflow-x: auto;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    vertical-align: middle;\\n    white-space: nowrap;\\n}\\n\\n\\n.progress[_ngcontent-%COMP%] {\\n    height: 20px;\\n}\\n\\n.progress-bar[_ngcontent-%COMP%] {\\n    width: 5%;\\n}\\n\\n\\n.btn-info[_ngcontent-%COMP%] {\\n    padding: 5px 10px;\\n    font-size: 0.875rem;\\n}\\n\\n.bi-file-earmark-excel[_ngcontent-%COMP%] {\\n    cursor: pointer;\\n    font-size: 1.875rem;\\n    color: green;\\n    transition: color 0.3s;\\n}\\n\\n.bi-file-earmark-excel[_ngcontent-%COMP%]:hover {\\n    color: darkgreen;\\n}\\n\\n\\n@media (max-width: 992px) {\\n    .col-6[_ngcontent-%COMP%] {\\n        margin-bottom: 15px;\\n    }\\n\\n    .bi-file-earmark-excel[_ngcontent-%COMP%] {\\n        font-size: 1.5rem;\\n    }\\n\\n    .btn-info[_ngcontent-%COMP%] {\\n        font-size: 0.8rem;\\n    }\\n}\\n\\n@media (max-width: 768px) {\\n    .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n        font-size: 0.9rem;\\n    }\\n\\n    .table-responsive[_ngcontent-%COMP%] {\\n        margin-bottom: 15px;\\n    }\\n\\n    .bi-file-earmark-excel[_ngcontent-%COMP%] {\\n        font-size: 1.25rem;\\n    }\\n\\n    .btn-info[_ngcontent-%COMP%] {\\n        font-size: 0.75rem;\\n    }\\n}\\n\\n@media (max-width: 576px) {\\n    .progress-bar[_ngcontent-%COMP%] {\\n        width: 100%;\\n        height: 15px;\\n    }\\n\\n    .bi-file-earmark-excel[_ngcontent-%COMP%] {\\n        font-size: 1rem;\\n    }\\n\\n    .btn-info[_ngcontent-%COMP%] {\\n        font-size: 0.7rem;\\n        padding: 3px 8px;\\n    }\\n\\n    .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n        font-size: 0.8rem;\\n        padding: 10px 5px;\\n    }\\n\\n    .pagination[_ngcontent-%COMP%] {\\n        font-size: 0.8rem;\\n    }\\n}\\n\\n@media (max-width: 768px) {\\n    .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%] {\\n        font-size: 0.9rem;\\n        padding: 5px 10px;\\n    }\\n}\\n\\n@media (max-width: 576px) {\\n    .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%] {\\n        font-size: 0.8rem;\\n        padding: 3px 8px;\\n    }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0lBQ3BCLFlBQVk7QUFDaEI7O0FBRUEsbUJBQW1CO0FBQ25CO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7O0FBRUEsaUJBQWlCO0FBQ2pCO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQSxpQkFBaUI7QUFDakI7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksU0FBUztBQUNiOztBQUVBLHNCQUFzQjtBQUN0QjtJQUNJLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUEsMkJBQTJCO0FBQzNCO0lBQ0k7UUFDSSxtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSxpQkFBaUI7SUFDckI7QUFDSjs7QUFFQTtJQUNJO1FBQ0ksaUJBQWlCO0lBQ3JCOztJQUVBO1FBQ0ksbUJBQW1CO0lBQ3ZCOztJQUVBO1FBQ0ksa0JBQWtCO0lBQ3RCOztJQUVBO1FBQ0ksa0JBQWtCO0lBQ3RCO0FBQ0o7O0FBRUE7SUFDSTtRQUNJLFdBQVc7UUFDWCxZQUFZO0lBQ2hCOztJQUVBO1FBQ0ksZUFBZTtJQUNuQjs7SUFFQTtRQUNJLGlCQUFpQjtRQUNqQixnQkFBZ0I7SUFDcEI7O0lBRUE7UUFDSSxpQkFBaUI7UUFDakIsaUJBQWlCO0lBQ3JCOztJQUVBO1FBQ0ksaUJBQWlCO0lBQ3JCO0FBQ0o7QUFDQSxrREFBa0Q7QUFDbEQ7SUFDSTtRQUNJLGlCQUFpQjtRQUNqQixpQkFBaUI7SUFDckI7QUFDSjs7QUFFQTtJQUNJO1FBQ0ksaUJBQWlCO1FBQ2pCLGdCQUFnQjtJQUNwQjtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLmRpc2FibGVke1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIG9wYWNpdHk6IDAuNjtcbn1cblxuLyogR2VuZXJhbCBTdHlsZXMgKi9cbi5jb250YWluZXIge1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nLWxlZnQ6IDE1cHg7XG4gICAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuLyogVGFibGUgU3R5bGVzICovXG4udGFibGUtcmVzcG9uc2l2ZSB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbn1cblxuLnRhYmxlIHRoLCAudGFibGUgdGQge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLyogUHJvZ3Jlc3MgQmFyICovXG4ucHJvZ3Jlc3Mge1xuICAgIGhlaWdodDogMjBweDtcbn1cblxuLnByb2dyZXNzLWJhciB7XG4gICAgd2lkdGg6IDUlO1xufVxuXG4vKiBCdXR0b25zIGFuZCBJY29ucyAqL1xuLmJ0bi1pbmZvIHtcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xufVxuXG4uYmktZmlsZS1lYXJtYXJrLWV4Y2VsIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxLjg3NXJlbTtcbiAgICBjb2xvcjogZ3JlZW47XG4gICAgdHJhbnNpdGlvbjogY29sb3IgMC4zcztcbn1cblxuLmJpLWZpbGUtZWFybWFyay1leGNlbDpob3ZlciB7XG4gICAgY29sb3I6IGRhcmtncmVlbjtcbn1cblxuLyogUmVzcG9uc2l2ZSBBZGp1c3RtZW50cyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XG4gICAgLmNvbC02IHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICB9XG5cbiAgICAuYmktZmlsZS1lYXJtYXJrLWV4Y2VsIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgfVxuXG4gICAgLmJ0bi1pbmZvIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgfVxufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAudGFibGUgdGgsIC50YWJsZSB0ZCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgIH1cblxuICAgIC50YWJsZS1yZXNwb25zaXZlIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICB9XG5cbiAgICAuYmktZmlsZS1lYXJtYXJrLWV4Y2VsIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjI1cmVtO1xuICAgIH1cblxuICAgIC5idG4taW5mbyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcbiAgICB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkge1xuICAgIC5wcm9ncmVzcy1iYXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgIH1cblxuICAgIC5iaS1maWxlLWVhcm1hcmstZXhjZWwge1xuICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuXG4gICAgLmJ0bi1pbmZvIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjdyZW07XG4gICAgICAgIHBhZGRpbmc6IDNweCA4cHg7XG4gICAgfVxuXG4gICAgLnRhYmxlIHRoLCAudGFibGUgdGQge1xuICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgICAgcGFkZGluZzogMTBweCA1cHg7XG4gICAgfVxuXG4gICAgLnBhZ2luYXRpb24ge1xuICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICB9XG59XG4vKiBSZXNwb25zaXZlIEFkanVzdG1lbnRzIGZvciBQYWdpbmF0aW9uIEJ1dHRvbnMgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC5wYWdpbmF0aW9uIC5wYWdlLWxpbmsge1xuICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgfVxufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcbiAgICAucGFnaW5hdGlvbiAucGFnZS1saW5rIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgICAgIHBhZGRpbmc6IDNweCA4cHg7XG4gICAgfVxufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["BehaviorSubject","map","startWith","catchError","of","DataState","i0","HomeComponent","constructor","userService","customerService","isLoadingSubject","asObservable","currentPageSubject","showLogsSubject","ngOnInit","homeState$","customers$","pipe","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","goToPage","pageNumber","value","goToNextOrPreviousePage","direction","selectCustomer","customer","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventType } from '@angular/router';\nimport { Observable, BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse, Page, Profile } from 'src/app/interface/appstates';\nimport { State } from 'src/app/interface/state';\nimport { User } from 'src/app/interface/user';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  homeState$: Observable<State<CustomHttpResponse<Page & User>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Page & User>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  private currentPageSubject = new BehaviorSubject<number>(0);\n  currentPage$ = this.currentPageSubject.asObservable();\n  private showLogsSubject = new BehaviorSubject<boolean>(false);\n  showLogs$ = this.showLogsSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private userService: UserService, private customerService: CustomerService) {}\n\n  ngOnInit(): void {\n    this.homeState$ = this.customerService.customers$()\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADING }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n\n  goToPage(pageNumber?: number): void {\n    this.homeState$ = this.customerService.customers$(pageNumber)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          this.currentPageSubject.next(pageNumber);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADED, appData: this.dataSubject.value }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.LOADED, error, appData: this.dataSubject.value})\n        })\n      )\n  }\n\n  goToNextOrPreviousePage(direction?: string): void {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 :this.currentPageSubject.value - 1);\n  }\n\n  selectCustomer(customer): void {}\n\n}\n","<ng-container *ngIf=\"(homeState$ | async) as state\">\n  <ng-container>\n     <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n     <app-stats [stats]=\"state?.appData?.data?.stats\"></app-stats>\n     <section>\n        <div class=\"container\">\n           <div class=\"row mt-3\">\n              <div class=\"progress\">\n                 <div class=\"progress-bar bg-success\" role=\"progressbar\" aria-valuenow=\"\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                    5%\n                 </div>\n               </div>\n              <div class=\"col\">\n                 <h4 class=\"fw-bold text-start\">Customers</h4>\n              </div>\n              <div class=\"col\">\n                 <h4 class=\"fw-bold text-end\"><i style=\"cursor: pointer;color: green;font-size: 30px;\" class=\"bi bi-file-earmark-excel\"></i></h4>\n              </div>\n              <div class=\"col-xm-12\">\n                 <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                          <th class=\"text-center\" scope=\"col\">ID</th>\n                          <th scope=\"col\">Photo</th>\n                          <th scope=\"col\">Name</th>\n                          <th scope=\"col\">Email</th>\n                          <th scope=\"col\">Phone</th>\n                          <th scope=\"col\">Status</th>\n                          <th scope=\"col\">Type</th>\n                          <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody class=\"table-body\">\n                        <tr *ngFor=\"let customer of state?.appData?.data?.page.content\" class=\"cell-1\">\n                          <th class=\"text-center\">{{ customer.id }}</th>\n                          <td><img [src]=\"customer.imageUrl\" width=\"42\" height=\"42\" class=\"rounded-circle\" [alt]=\"customer.name\"></td>\n                          <td>{{ customer.name }}</td>\n                          <td>{{ customer.email }}</td>                          \n                          <td>{{ customer.phone }}</td>\n                          <td>\n                             <span class=\"badge\"\n                               [ngClass]=\"[\n                                  customer.status === 'ACTIVE' ? ' bg-success' : '',\n                                  customer.status === 'PENDING' ? ' bg-primary' : '',\n                                  customer.status === 'BANNED' ? ' bg-danger' : '',\n                                  customer.status === 'INACTIVE' ? ' bg-info' : '',]\" \n                             >\n                                {{ customer.status }}\n                             </span>\n                          </td>\n                          <td>{{ customer.type }}</td>\n                          <td>\n                             <button type=\"button\" [routerLink]=\"['/customers', customer.id]\" class=\"btn btn-info\">View</button>\n                             <!-- <button type=\"button\" (click)=\"selectCustomer(customer)\" class=\"btn btn-info\">View</button> -->\n                          </td>\n                       </tr>\n                    </tbody>\n                </table>\n                \n                 <nav *ngIf=\"state?.appData?.data?.page.content.length > 0\" aria-label=\"Page navigation example\">\n                    <ul class=\"pagination justify-content-end\">\n                       <li [ngClass]=\"0 == (currentPage$ | async) ? ' disabled' : ''\" class=\"page-item pointer\">\n                          <a (click)=\"goToNextOrPreviousPage('backward')\" class=\"page-link\">&laquo; Prev</a>\n                       </li>\n                       <li *ngFor=\"let pageNumber of [].constructor(state?.appData?.data?.page.totalPages); let i = index;\" class=\"page-item pointer\">\n                          <a (click)=\"goToPage(i)\" [ngClass]=\"i == (currentPage$ | async) ? ' active' : ''\" class=\"page-link\">\n                            {{ i + 1 }}\n                          </a>\n                       </li>\n                       <li [ngClass]=\"(state?.appData?.data?.page.totalPages - 1) == (currentPage$ | async) ? ' disabled' : ''\" class=\"page-item pointer\">\n                          <a (click)=\"goToNextOrPreviousPage('forward')\" class=\"page-link\">Next &raquo;</a>\n                       </li>\n                    </ul>\n                 </nav>\n              </div>\n           </div>\n        </div>\n     </section>\n  </ng-container>\n</ng-container>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}