{"ast":null,"code":"import { BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user.service\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../navbar/navbar.component\";\nimport * as i5 from \"../stats/stats.component\";\nconst _c0 = function (a0, a1, a2, a3) {\n  return [a0, a1, a2, a3];\n};\nfunction HomeComponent_ng_container_0_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"th\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 20);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_tr_37_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const customer_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.selectCustomer(customer_r4));\n    });\n    i0.ɵɵtext(18, \"View\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const customer_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", customer_r4.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(9, _c0, customer_r4.status === \"ACTIVE\" ? \"bg-success\" : \"\", customer_r4.status === \"PENDING\" ? \"bg-primary\" : \"\", customer_r4.status === \"BANNED\" ? \"bg-danger\" : \"\", customer_r4.status === \"INACTIVE\" ? \"bg-info\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.type);\n  }\n}\nfunction HomeComponent_ng_container_0_nav_38_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 27)(1, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_li_6_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const i_r9 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.goToPage(i_r9));\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r9 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i_r9 == i0.ɵɵpipeBind1(2, 2, ctx_r7.currentPage$) ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r9 + 1, \" \");\n  }\n}\nconst _c1 = function () {\n  return [];\n};\nfunction HomeComponent_ng_container_0_nav_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 22)(1, \"ul\", 23)(2, \"li\", 24);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementStart(4, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.goToNextOrPreviousePage(\"backward\"));\n    });\n    i0.ɵɵtext(5, \"\\u00AB Prev\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, HomeComponent_ng_container_0_nav_38_li_6_Template, 4, 4, \"li\", 26);\n    i0.ɵɵelementStart(7, \"li\", 24);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementStart(9, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_38_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.goToNextOrPreviousePage(\"forward\"));\n    });\n    i0.ɵɵtext(10, \"Next \\u00BB\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", 0 == i0.ɵɵpipeBind1(3, 3, ctx_r3.currentPage$) ? \"disabled\" : \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(7, _c1).constructor(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages) - 1 == i0.ɵɵpipeBind1(8, 5, ctx_r3.currentPage$) ? \"disabled\" : \"\");\n  }\n}\nfunction HomeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1);\n    i0.ɵɵelement(2, \"app-navbar\", 1)(3, \"app-stats\");\n    i0.ɵɵelementStart(4, \"section\")(5, \"div\", 2)(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5);\n    i0.ɵɵtext(9, \" 5% \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 6)(11, \"h4\", 7);\n    i0.ɵɵtext(12, \"Customers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 6)(14, \"h4\", 8);\n    i0.ɵɵelement(15, \"i\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"table\", 11)(18, \"thead\")(19, \"tr\")(20, \"th\", 12);\n    i0.ɵɵtext(21, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 13);\n    i0.ɵɵtext(23, \"Photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 13);\n    i0.ɵɵtext(25, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 13);\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 13);\n    i0.ɵɵtext(29, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 13);\n    i0.ɵɵtext(31, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 13);\n    i0.ɵɵtext(33, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\", 13);\n    i0.ɵɵtext(35, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tbody\", 14);\n    i0.ɵɵtemplate(37, HomeComponent_ng_container_0_tr_37_Template, 19, 14, \"tr\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(38, HomeComponent_ng_container_0_nav_38_Template, 11, 8, \"nav\", 16);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n    i0.ɵɵadvance(35);\n    i0.ɵɵproperty(\"ngForOf\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content.length) > 0);\n  }\n}\nexport class HomeComponent {\n  constructor(userService, customerService) {\n    this.userService = userService;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.currentPageSubject = new BehaviorSubject(0);\n    this.currentPage$ = this.currentPageSubject.asObservable();\n    this.showLogsSubject = new BehaviorSubject(false);\n    this.showLogs$ = this.showLogsSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.homeState$ = this.customerService.customers$().pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n  goToPage(pageNumber) {\n    this.homeState$ = this.customerService.customers$(pageNumber).pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      this.currentPageSubject.next(pageNumber);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADED,\n      appData: this.dataSubject.value\n    }), catchError(error => {\n      return of({\n        dataState: DataState.LOADED,\n        error,\n        appData: this.dataSubject.value\n      });\n    }));\n  }\n  goToNextOrPreviousePage(direction) {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 : this.currentPageSubject.value - 1);\n  }\n  selectCustomer(customer) {}\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"user\"], [1, \"container\"], [1, \"row\", \"mt-3\"], [1, \"progress\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"5\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\"], [1, \"col\"], [1, \"fw-bold\", \"text-start\"], [1, \"fw-bold\", \"text-end\"], [1, \"bi\", \"bi-file-earmark-excel\", 2, \"cursor\", \"pointer\", \"color\", \"green\", \"font-size\", \"30px\"], [1, \"col-12\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\", 1, \"text-center\"], [\"scope\", \"col\"], [1, \"table-body\"], [\"class\", \"cell-1\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Page navigation example\", 4, \"ngIf\"], [1, \"cell-1\"], [1, \"text-center\"], [\"width\", \"42\", \"height\", \"42\", 1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"badge\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\", \"justify-content-end\"], [1, \"page-item\", \"pointer\", 3, \"ngClass\"], [1, \"page-link\", 3, \"click\"], [\"class\", \"page-item pointer\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-item\", \"pointer\"], [1, \"page-link\", 3, \"ngClass\", \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_ng_container_0_Template, 39, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.homeState$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.NavbarComponent, i5.StatsComponent, i3.AsyncPipe],\n  styles: [\".disabled[_ngcontent-%COMP%]{\\n    pointer-events: none;\\n    opacity: 0.6;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0lBQ3BCLFlBQVk7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyIuZGlzYWJsZWR7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgb3BhY2l0eTogMC42O1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["BehaviorSubject","map","startWith","catchError","of","DataState","i0","HomeComponent","constructor","userService","customerService","isLoadingSubject","asObservable","currentPageSubject","showLogsSubject","ngOnInit","homeState$","customers$","pipe","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","goToPage","pageNumber","value","goToNextOrPreviousePage","direction","selectCustomer","customer","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventType } from '@angular/router';\nimport { Observable, BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse, Page, Profile } from 'src/app/interface/appstates';\nimport { State } from 'src/app/interface/state';\nimport { User } from 'src/app/interface/user';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  homeState$: Observable<State<CustomHttpResponse<Page & User>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Page & User>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  private currentPageSubject = new BehaviorSubject<number>(0);\n  currentPage$ = this.currentPageSubject.asObservable();\n  private showLogsSubject = new BehaviorSubject<boolean>(false);\n  showLogs$ = this.showLogsSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private userService: UserService, private customerService: CustomerService) {}\n\n  ngOnInit(): void {\n    this.homeState$ = this.customerService.customers$()\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADING }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n\n  goToPage(pageNumber?: number): void {\n    this.homeState$ = this.customerService.customers$(pageNumber)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          this.currentPageSubject.next(pageNumber);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADED, appData: this.dataSubject.value }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.LOADED, error, appData: this.dataSubject.value})\n        })\n      )\n  }\n\n  goToNextOrPreviousePage(direction?: string): void {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 :this.currentPageSubject.value - 1);\n  }\n\n  selectCustomer(customer): void {}\n\n}\n","<ng-container *ngIf=\"(homeState$ | async) as state\">\n   <ng-container>\n      <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n      <app-stats></app-stats>\n      <section>\n        <div class=\"container\">\n          <div class=\"row mt-3\">\n            <div class=\"progress\">\n               <div class=\"progress-bar bg-success\" role=\"progressbar\" aria-valuenow=\"5\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                 5%\n               </div>\n             </div>\n            <div class=\"col\">\n               <h4 class=\"fw-bold text-start\">Customers</h4>\n            </div>\n            <div class=\"col\">\n               <h4 class=\"fw-bold text-end\"><i style=\"cursor: pointer;color: green;font-size: 30px;\" class=\"bi bi-file-earmark-excel\"></i></h4>\n            </div>\n            <div class=\"col-12\">\n               <table class=\"table table-hover\">\n                 <thead>\n                    <tr>\n                     <th class=\"text-center\" scope=\"col\">ID</th>\n                     <th scope=\"col\">Photo</th>\n                     <th scope=\"col\">Name</th>\n                     <th scope=\"col\">Email</th>\n                     <th scope=\"col\">Phone</th>\n                     <th scope=\"col\">Status</th>\n                     <th scope=\"col\">Type</th>\n                     <th scope=\"col\">Action</th>\n                    </tr>\n                 </thead>\n                 <tbody class=\"table-body\">\n                    <tr *ngFor=\"let customer of state?.appData?.data?.page.content\" class=\"cell-1\">\n                     <th class=\"text-center\">{{ customer.id }}</th>\n                     <td><img [src]=\"customer.imageUrl\" width=\"42\" height=\"42\" class=\"rounded-circle\" [alt]=\"customer.name\"></td>\n                     <td>{{ customer.name }}</td>\n                     <td>{{ customer.email }}</td>                          \n                     <td>{{ customer.phone }}</td>\n                     <td>\n                        <span class=\"badge \" \n                        [ngClass]=\"[\n                        customer.status === 'ACTIVE' ? 'bg-success': '',\n                        customer.status === 'PENDING' ? 'bg-primary': '',\n                        customer.status === 'BANNED' ? 'bg-danger': '',\n                        customer.status === 'INACTIVE' ? 'bg-info': '',\n                        ]\"\n                        >\n                          {{ customer.status }}\n                        </span>\n                     </td>\n                     <td>{{ customer.type }}</td>\n                     <td>\n                        <button type=\"button\" (click)=\"selectCustomer(customer)\" class=\"btn btn-info\">View</button>\n                     </td>\n                   </tr>\n                 </tbody>\n              </table>\n              \n               <nav *ngIf=\"state?.appData?.data?.page.content.length > 0\" aria-label=\"Page navigation example\">\n                 <ul class=\"pagination justify-content-end\">\n                   <li [ngClass]=\"0 == (currentPage$ | async) ? 'disabled': '' \" class=\"page-item pointer\">\n                     <a (click)=\"goToNextOrPreviousePage('backward')\" class=\"page-link\">&laquo; Prev</a>\n                   </li>\n                   <li *ngFor=\"let pageNumber of [].constructor(state?.appData?.data?.page.totalPages); let i = index;\" class=\"page-item pointer\">\n                     <a (click)=\" goToPage(i)\" [ngClass]=\"i ==(currentPage$ | async) ? 'active': '' \" class=\"page-link\">\n                      {{ i + 1 }}\n                    </a>\n                   </li>\n                   <li [ngClass]=\"(state?.appData?.data?.page.totalPages - 1) == (currentPage$ | async) ? 'disabled': '' \"  class=\"page-item pointer\">\n                     <a (click)=\"goToNextOrPreviousePage('forward')\" class=\"page-link\">Next &raquo;</a>\n                   </li>\n                 </ul>\n               </nav>\n            </div>\n          </div>\n        </div>\n      </section>\n   </ng-container>\n </ng-container>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}