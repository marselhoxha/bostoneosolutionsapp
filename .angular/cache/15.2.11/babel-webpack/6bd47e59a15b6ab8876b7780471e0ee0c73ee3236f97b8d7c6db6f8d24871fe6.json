{"ast":null,"code":"import { BehaviorSubject, switchMap, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../navbar/navbar.component\";\nfunction InvoiceComponent_ng_container_0_ng_container_1_tr_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"span\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 41);\n    i0.ɵɵtext(8, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 46);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const service_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(service_r4.split(\" \")[0]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", service_r4.split(\" \")[1], \" \", service_r4.split(\" \")[2], \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(service_r4.split(\" \")[3]);\n  }\n}\nconst _c0 = function () {\n  return [\"/\"];\n};\nconst _c1 = function () {\n  return [\"/invoices\"];\n};\nfunction InvoiceComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-navbar\", 3);\n    i0.ɵɵelementStart(2, \"section\")(3, \"div\", 4)(4, \"nav\", 5)(5, \"ol\", 6)(6, \"li\", 7)(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"li\", 7)(10, \"a\", 8);\n    i0.ɵɵtext(11, \"Invoices\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"li\", 9);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 11)(16, \"div\", 12)(17, \"div\", 13)(18, \"span\")(19, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function InvoiceComponent_ng_container_0_ng_container_1_Template_a_click_19_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.exportAsPDF());\n    });\n    i0.ɵɵelement(20, \"i\", 15);\n    i0.ɵɵtext(21, \" Export as PDF \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(22, \"hr\");\n    i0.ɵɵelementStart(23, \"div\", 16)(24, \"div\", 17)(25, \"div\", 18)(26, \"small\");\n    i0.ɵɵtext(27, \"from\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"address\", 19)(29, \"strong\", 20);\n    i0.ɵɵtext(30, \"Bostoneo Solutions LLC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"br\");\n    i0.ɵɵtext(32, \" 68 Harrison Ave\");\n    i0.ɵɵelement(33, \"br\");\n    i0.ɵɵtext(34, \" Boston, MA 02111\");\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵtext(36, \" Phone: (123) 456-7890\");\n    i0.ɵɵelement(37, \"br\");\n    i0.ɵɵtext(38, \" Fax: (123) 456-7890 \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 21)(40, \"small\");\n    i0.ɵɵtext(41, \"to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"address\", 19)(43, \"strong\", 20);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"br\");\n    i0.ɵɵtext(46);\n    i0.ɵɵelement(47, \"br\");\n    i0.ɵɵtext(48);\n    i0.ɵɵelement(49, \"br\");\n    i0.ɵɵtext(50);\n    i0.ɵɵelement(51, \"br\");\n    i0.ɵɵtext(52, \" Status: \");\n    i0.ɵɵelementStart(53, \"span\", 22);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(55, \"div\", 23)(56, \"small\");\n    i0.ɵɵtext(57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"div\", 24);\n    i0.ɵɵtext(59);\n    i0.ɵɵpipe(60, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\", 25);\n    i0.ɵɵtext(62, \"Due Date: 30 Days from Invoice Date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(63, \"div\", 26)(64, \"div\", 27)(65, \"table\", 28)(66, \"thead\")(67, \"tr\")(68, \"th\", 29);\n    i0.ɵɵtext(69, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"th\");\n    i0.ɵɵtext(71, \"Provided Servives\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"th\", 29);\n    i0.ɵɵtext(73, \"RATE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"th\", 30);\n    i0.ɵɵtext(75, \"TOTAL\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(76, \"tbody\");\n    i0.ɵɵtemplate(77, InvoiceComponent_ng_container_0_ng_container_1_tr_77_Template, 11, 4, \"tr\", 31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(78, \"div\", 32)(79, \"div\", 33)(80, \"div\", 34)(81, \"div\", 35)(82, \"small\");\n    i0.ɵɵtext(83, \"SUBTOTAL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(84, \"span\", 20);\n    i0.ɵɵtext(85);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(86, \"div\", 35);\n    i0.ɵɵelement(87, \"i\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(88, \"div\", 35)(89, \"small\");\n    i0.ɵɵtext(90, \"TAX (6.25%)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(91, \"span\", 20);\n    i0.ɵɵtext(92);\n    i0.ɵɵpipe(93, \"number\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(94, \"div\", 37)(95, \"small\");\n    i0.ɵɵtext(96, \"TOTAL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(97, \"span\", 38);\n    i0.ɵɵtext(98);\n    i0.ɵɵpipe(99, \"number\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(100, \"div\", 39)(101, \"p\", 40);\n    i0.ɵɵtext(102, \" THANK YOU FOR YOUR BUSINESS \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(103, \"p\", 41)(104, \"span\", 42);\n    i0.ɵɵelement(105, \"i\", 43);\n    i0.ɵɵtext(106, \" bostoneo.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(107, \"br\");\n    i0.ɵɵelementStart(108, \"span\", 42);\n    i0.ɵɵelement(109, \"i\", 44);\n    i0.ɵɵtext(110, \" Telephone:(123) 456-7890\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(111, \"br\");\n    i0.ɵɵelementStart(112, \"span\", 42);\n    i0.ɵɵelement(113, \"i\", 45);\n    i0.ɵɵtext(114, \" Email: billing@bostoneo.com\");\n    i0.ɵɵelementEnd()()()()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(24, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(25, _c1));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.invoiceNumber, \" \");\n    i0.ɵɵadvance(31);\n    i0.ɵɵtextInterpolate(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Address: \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.address, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Email: \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.email, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Phone: \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.customer.phone, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.status, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Invoice Number: #\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.invoiceNumber, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Invoice Date: \", i0.ɵɵpipeBind2(60, 15, state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.date, \"mediumDate\"), \"\");\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.services.split(\",\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"$\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.total, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(93, 18, (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.total) * (6.25 / 100), \".2-2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(99, 21, (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.total) * (5.4 / 100) + (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.invoice.total), \".2-2\"), \" \");\n  }\n}\nfunction InvoiceComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 1);\n    i0.ɵɵtemplate(1, InvoiceComponent_ng_container_0_ng_container_1_Template, 115, 26, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngSwitch\", state_r1.dataState);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADED);\n  }\n}\n//import { jsPDF as pdf } from 'jspdf';\nconst INVOICE_ID = 'id';\nexport class InvoiceComponent {\n  constructor(activatedRoute, customerService) {\n    this.activatedRoute = activatedRoute;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.invoiceState$ = this.activatedRoute.paramMap.pipe(switchMap(params => {\n      return this.customerService.invoice$(+params.get(INVOICE_ID)).pipe(map(response => {\n        console.log(response);\n        this.dataSubject.next(response);\n        return {\n          dataState: DataState.LOADED,\n          appData: response\n        };\n      }), startWith({\n        dataState: DataState.LOADING\n      }), catchError(error => {\n        return of({\n          dataState: DataState.ERROR,\n          error\n        });\n      }));\n    }));\n  }\n}\nInvoiceComponent.ɵfac = function InvoiceComponent_Factory(t) {\n  return new (t || InvoiceComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nInvoiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InvoiceComponent,\n  selectors: [[\"app-invoice\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[3, \"ngSwitch\", 4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [3, \"user\"], [1, \"container\"], [\"aria-label\", \"breadcrumb\", 2, \"margin-top\", \"8px\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [3, \"routerLink\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"active\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"invoice\"], [1, \"invoice-company\", \"text-inverse\", \"f-w-600\"], [1, \"btn\", \"btn-sm\", \"btn-white\", \"m-b-10\", \"p-l-5\", 2, \"font-weight\", \"500\", \"background-color\", \"#d6e0e5\", \"color\", \"#ea0c4b\", 3, \"click\"], [1, \"bi\", \"bi-file-earmark-pdf-fill\", 2, \"color\", \"#ea0c4b\"], [\"id\", \"invoice\"], [1, \"invoice-header\"], [1, \"invoice-from\"], [1, \"m-t-5\", \"m-b-5\"], [1, \"text-inverse\"], [1, \"invoice-to\"], [1, \"badge\", \"bg-success\"], [1, \"invoice-date\"], [1, \"date\", \"text-inverse\", \"m-t-5\"], [1, \"invoice-detail\"], [1, \"invoice-content\"], [1, \"table-responsive\"], [1, \"table\", \"table-invoice\"], [\"width\", \"10%\", 1, \"text-center\"], [\"width\", \"20%\", 1, \"text-right\"], [4, \"ngFor\", \"ngForOf\"], [1, \"invoice-price\"], [1, \"invoice-price-left\"], [1, \"invoice-price-row\"], [1, \"sub-price\"], [1, \"fa\", \"fa-plus\", \"text-muted\"], [1, \"invoice-price-right\"], [1, \"f-w-600\"], [1, \"invoice-footer\"], [1, \"text-center\", \"m-b-5\", \"f-w-600\"], [1, \"text-center\"], [1, \"m-r-10\"], [1, \"fa\", \"fa-fw\", \"fa-lg\", \"fa-globe\"], [1, \"fa\", \"fa-fw\", \"fa-lg\", \"fa-phone-volume\"], [1, \"fa\", \"fa-fw\", \"fa-lg\", \"fa-envelope\"], [1, \"text-right\"]],\n  template: function InvoiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, InvoiceComponent_ng_container_0_Template, 2, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.invoiceState$));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.NgSwitch, i3.NgSwitchCase, i1.RouterLink, i4.NavbarComponent, i3.AsyncPipe, i3.DecimalPipe, i3.DatePipe],\n  styles: [\".invoice[_ngcontent-%COMP%] {\\n    background: #fff;\\n    padding: 20px\\n}\\n\\n.invoice-company[_ngcontent-%COMP%] {\\n    font-size: 20px\\n}\\n\\n.invoice-header[_ngcontent-%COMP%] {\\n    margin: 0 -20px;\\n    padding: 20px\\n}\\n\\n.invoice-date[_ngcontent-%COMP%], .invoice-from[_ngcontent-%COMP%], .invoice-to[_ngcontent-%COMP%] {\\n    display: table-cell;\\n    width: 1%\\n}\\n\\n.invoice-from[_ngcontent-%COMP%], .invoice-to[_ngcontent-%COMP%] {\\n    padding-right: 20px\\n}\\n\\n.invoice-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .invoice-from[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .invoice-to[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n    font-size: 16px;\\n    font-weight: 600\\n}\\n\\n.invoice-date[_ngcontent-%COMP%] {\\n    text-align: right;\\n    padding-left: 20px\\n}\\n\\n.invoice-price[_ngcontent-%COMP%] {\\n    background: #f0f3f4;\\n    display: table;\\n    width: 100%\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   .invoice-price-left[_ngcontent-%COMP%], .invoice-price[_ngcontent-%COMP%]   .invoice-price-right[_ngcontent-%COMP%] {\\n    display: table-cell;\\n    padding: 20px;\\n    font-size: 20px;\\n    font-weight: 600;\\n    width: 75%;\\n    position: relative;\\n    vertical-align: middle\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   .invoice-price-left[_ngcontent-%COMP%]   .sub-price[_ngcontent-%COMP%] {\\n    display: table-cell;\\n    vertical-align: middle;\\n    padding: 0 20px\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n    font-weight: 400;\\n    display: block\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   .invoice-price-row[_ngcontent-%COMP%] {\\n    display: table;\\n    float: left\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   .invoice-price-right[_ngcontent-%COMP%] {\\n    width: 25%;\\n    background: #2d353c;\\n    color: #fff;\\n    font-size: 28px;\\n    text-align: right;\\n    vertical-align: bottom;\\n    font-weight: 300\\n}\\n\\n.invoice-price[_ngcontent-%COMP%]   .invoice-price-right[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n    display: block;\\n    opacity: .6;\\n    position: absolute;\\n    top: 10px;\\n    left: 10px;\\n    font-size: 12px\\n}\\n\\n.invoice-footer[_ngcontent-%COMP%] {\\n    border-top: 1px solid #ddd;\\n    padding-top: 10px;\\n    font-size: 10px\\n}\\n\\n.invoice-note[_ngcontent-%COMP%] {\\n    color: #999;\\n    margin-top: 80px;\\n    font-size: 85%\\n}\\n\\n.invoice[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.invoice-footer) {\\n    margin-bottom: 20px\\n}\\n\\n.btn.btn-white[_ngcontent-%COMP%], .btn.btn-white.disabled[_ngcontent-%COMP%], .btn.btn-white.disabled[_ngcontent-%COMP%]:focus, .btn.btn-white.disabled[_ngcontent-%COMP%]:hover, .btn.btn-white[disabled][_ngcontent-%COMP%], .btn.btn-white[disabled][_ngcontent-%COMP%]:focus, .btn.btn-white[disabled][_ngcontent-%COMP%]:hover {\\n    color: #2d353c;\\n    background: #fff;\\n    border-color: #d9dfe3;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2ludm9pY2UvaW52b2ljZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCO0FBQ0o7O0FBRUE7SUFDSTtBQUNKOztBQUVBO0lBQ0ksZUFBZTtJQUNmO0FBQ0o7O0FBRUE7OztJQUdJLG1CQUFtQjtJQUNuQjtBQUNKOztBQUVBOztJQUVJO0FBQ0o7O0FBRUE7OztJQUdJLGVBQWU7SUFDZjtBQUNKOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCO0FBQ0o7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsY0FBYztJQUNkO0FBQ0o7O0FBRUE7O0lBRUksbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFVBQVU7SUFDVixrQkFBa0I7SUFDbEI7QUFDSjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixzQkFBc0I7SUFDdEI7QUFDSjs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEI7QUFDSjs7QUFFQTtJQUNJLGNBQWM7SUFDZDtBQUNKOztBQUVBO0lBQ0ksVUFBVTtJQUNWLG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixzQkFBc0I7SUFDdEI7QUFDSjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxVQUFVO0lBQ1Y7QUFDSjs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQixpQkFBaUI7SUFDakI7QUFDSjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEI7QUFDSjs7QUFFQTtJQUNJO0FBQ0o7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi5pbnZvaWNlIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIHBhZGRpbmc6IDIwcHhcbn1cblxuLmludm9pY2UtY29tcGFueSB7XG4gICAgZm9udC1zaXplOiAyMHB4XG59XG5cbi5pbnZvaWNlLWhlYWRlciB7XG4gICAgbWFyZ2luOiAwIC0yMHB4O1xuICAgIHBhZGRpbmc6IDIwcHhcbn1cblxuLmludm9pY2UtZGF0ZSxcbi5pbnZvaWNlLWZyb20sXG4uaW52b2ljZS10byB7XG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcbiAgICB3aWR0aDogMSVcbn1cblxuLmludm9pY2UtZnJvbSxcbi5pbnZvaWNlLXRvIHtcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4XG59XG5cbi5pbnZvaWNlLWRhdGUgLmRhdGUsXG4uaW52b2ljZS1mcm9tIHN0cm9uZyxcbi5pbnZvaWNlLXRvIHN0cm9uZyB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDBcbn1cblxuLmludm9pY2UtZGF0ZSB7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgcGFkZGluZy1sZWZ0OiAyMHB4XG59XG5cbi5pbnZvaWNlLXByaWNlIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjBmM2Y0O1xuICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgIHdpZHRoOiAxMDAlXG59XG5cbi5pbnZvaWNlLXByaWNlIC5pbnZvaWNlLXByaWNlLWxlZnQsXG4uaW52b2ljZS1wcmljZSAuaW52b2ljZS1wcmljZS1yaWdodCB7XG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHdpZHRoOiA3NSU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcbn1cblxuLmludm9pY2UtcHJpY2UgLmludm9pY2UtcHJpY2UtbGVmdCAuc3ViLXByaWNlIHtcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgcGFkZGluZzogMCAyMHB4XG59XG5cbi5pbnZvaWNlLXByaWNlIHNtYWxsIHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBkaXNwbGF5OiBibG9ja1xufVxuXG4uaW52b2ljZS1wcmljZSAuaW52b2ljZS1wcmljZS1yb3cge1xuICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgIGZsb2F0OiBsZWZ0XG59XG5cbi5pbnZvaWNlLXByaWNlIC5pbnZvaWNlLXByaWNlLXJpZ2h0IHtcbiAgICB3aWR0aDogMjUlO1xuICAgIGJhY2tncm91bmQ6ICMyZDM1M2M7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgZm9udC1zaXplOiAyOHB4O1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIHZlcnRpY2FsLWFsaWduOiBib3R0b207XG4gICAgZm9udC13ZWlnaHQ6IDMwMFxufVxuXG4uaW52b2ljZS1wcmljZSAuaW52b2ljZS1wcmljZS1yaWdodCBzbWFsbCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgb3BhY2l0eTogLjY7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMTBweDtcbiAgICBsZWZ0OiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTJweFxufVxuXG4uaW52b2ljZS1mb290ZXIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkO1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTBweFxufVxuXG4uaW52b2ljZS1ub3RlIHtcbiAgICBjb2xvcjogIzk5OTtcbiAgICBtYXJnaW4tdG9wOiA4MHB4O1xuICAgIGZvbnQtc2l6ZTogODUlXG59XG5cbi5pbnZvaWNlPmRpdjpub3QoLmludm9pY2UtZm9vdGVyKSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweFxufVxuXG4uYnRuLmJ0bi13aGl0ZSwgLmJ0bi5idG4td2hpdGUuZGlzYWJsZWQsIC5idG4uYnRuLXdoaXRlLmRpc2FibGVkOmZvY3VzLCAuYnRuLmJ0bi13aGl0ZS5kaXNhYmxlZDpob3ZlciwgLmJ0bi5idG4td2hpdGVbZGlzYWJsZWRdLCAuYnRuLmJ0bi13aGl0ZVtkaXNhYmxlZF06Zm9jdXMsIC5idG4uYnRuLXdoaXRlW2Rpc2FibGVkXTpob3ZlciB7XG4gICAgY29sb3I6ICMyZDM1M2M7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBib3JkZXItY29sb3I6ICNkOWRmZTM7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["BehaviorSubject","switchMap","map","startWith","catchError","of","DataState","i0","INVOICE_ID","InvoiceComponent","constructor","activatedRoute","customerService","isLoadingSubject","asObservable","ngOnInit","invoiceState$","paramMap","pipe","params","invoice$","get","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/invoice/invoice.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/invoice/invoice.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { Observable, BehaviorSubject, switchMap, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse } from 'src/app/interface/appstates';\nimport { Customer } from 'src/app/interface/customer';\nimport { Invoice } from 'src/app/interface/invoice';\nimport { State } from 'src/app/interface/state';\nimport { User } from 'src/app/interface/user';\nimport { CustomerService } from 'src/app/service/customer.service';\n//import { jsPDF as pdf } from 'jspdf';\n\nconst INVOICE_ID = 'id';\n@Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.component.html',\n  styleUrls: ['./invoice.component.css']\n})\nexport class InvoiceComponent implements OnInit {\n  invoiceState$: Observable<State<CustomHttpResponse<Customer & Invoice & User>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Customer & Invoice & User>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private activatedRoute: ActivatedRoute, private customerService: CustomerService) { }\n\n  ngOnInit(): void {\n    this.invoiceState$ = this.activatedRoute.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        return this.customerService.invoice$(+params.get(INVOICE_ID))\n          .pipe(\n            map(response => {\n              console.log(response);\n              this.dataSubject.next(response);\n              return { dataState: DataState.LOADED, appData: response };\n            }),\n            startWith({ dataState: DataState.LOADING }),\n            catchError((error: string) => {\n              return of({ dataState: DataState.ERROR, error })\n            })\n          )\n      })\n    );\n  }\n\n  //\n\n}\n","<ng-container *ngIf=\"(invoiceState$ | async) as state\" [ngSwitch]=\"state.dataState\">\n    <ng-container *ngSwitchCase=\"DataState.LOADED\">\n       <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n       <section>\n          <div class=\"container\">\n             <nav aria-label=\"breadcrumb\" style=\"margin-top: 8px;\">\n                <ol class=\"breadcrumb\">\n                   <li class=\"breadcrumb-item\"><a [routerLink]=\"['/']\">Home</a></li>\n                   <li class=\"breadcrumb-item\"><a [routerLink]=\"['/invoices']\">Invoices</a></li>\n                   <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ state?.appData?.data?.invoice.invoiceNumber }}\n                   </li>\n                </ol>\n             </nav>\n             <div class=\"row\">\n                <div class=\"col-md-12\">\n                   <div class=\"invoice\">\n                      <div class=\"invoice-company text-inverse f-w-600\">\n                         <span>\n                         <a (click)=\"exportAsPDF()\" class=\"btn btn-sm btn-white m-b-10 p-l-5\" style=\"font-weight: 500;background-color: #d6e0e5;color: #ea0c4b;\">\n                            <i class=\"bi bi-file-earmark-pdf-fill\" style=\"color: #ea0c4b;\"></i>\n                             Export as PDF\n                         </a>\n                         </span>\n                      </div>\n                      <hr>\n                      <div id=\"invoice\">\n                         <div class=\"invoice-header\">\n                            <div class=\"invoice-from\">\n                               <small>from</small>\n                               <address class=\"m-t-5 m-b-5\">\n                                  <strong class=\"text-inverse\">Bostoneo Solutions LLC</strong><br>\n                                  68 Harrison Ave<br>\n                                  Boston, MA 02111<br>\n                                  Phone: (123) 456-7890<br>\n                                  Fax: (123) 456-7890\n                               </address>\n                            </div>\n                            <div class=\"invoice-to\">\n                               <small>to</small>\n                               <address class=\"m-t-5 m-b-5\">\n                                  <strong class=\"text-inverse\">{{ state?.appData?.data?.customer.name }}</strong><br>\n                                  Address: {{ state?.appData?.data?.customer.address }} <br>\n                                  Email: {{ state?.appData?.data?.customer.email }} <br>\n                                  Phone: {{ state?.appData?.data?.customer.phone }} <br>\n                                  Status: <span class=\"badge bg-success\">\n                                    {{ state?.appData?.data?.invoice.status }}\n                               </span> \n                               </address>\n                            </div>\n                            <div class=\"invoice-date\">\n                               <small>Invoice Number: #{{ state?.appData?.data?.invoice.invoiceNumber }}</small>\n                               <div class=\"date text-inverse m-t-5\">Invoice Date: {{ state?.appData?.data?.invoice.date | date: 'mediumDate' }}</div>\n                               <div class=\"invoice-detail\">Due Date: 30 Days from Invoice Date</div>\n                            </div>\n                         </div>\n                         <div class=\"invoice-content\">\n                            <div class=\"table-responsive\">\n                               <table class=\"table table-invoice\">\n                                  <thead>\n                                     <tr>\n                                        <th class=\"text-center\" width=\"10%\">#</th>\n                                        <th>Provided Servives</th>\n                                        <th class=\"text-center\" width=\"10%\">RATE</th>\n                                        <th class=\"text-right\" width=\"20%\">TOTAL</th>\n                                     </tr>\n                                  </thead>\n                                  <tbody>\n                                     <tr *ngFor=\"let service of state?.appData?.data?.invoice.services.split(',')\">\n                                        <td class=\"text-center\">{{ service.split(' ')[0] }}</td>\n                                           <td>\n                                              <span class=\"text-inverse\">{{ service.split(' ')[1] }} {{ service.split(' ')[2] }}</span><br>\n                                           </td>\n                                           <td class=\"text-center\">1</td>\n                                           <td class=\"text-right\">{{ service.split(' ')[3] }}</td>\n                                     </tr>\n                                  </tbody>\n                               </table>\n                            </div>\n                            <div class=\"invoice-price\">\n                               <div class=\"invoice-price-left\">\n                                  <div class=\"invoice-price-row\">\n                                     <div class=\"sub-price\">\n                                        <small>SUBTOTAL</small>\n                                        <span class=\"text-inverse\">${{ state?.appData?.data?.invoice.total }}</span>\n                                     </div>\n                                     <div class=\"sub-price\">\n                                        <i class=\"fa fa-plus text-muted\"></i>\n                                     </div>\n                                     <div class=\"sub-price\">\n                                        <small>TAX (6.25%)</small>\n                                        <span class=\"text-inverse\">${{ state?.appData?.data?.invoice.total * (6.25/100) | number: '.2-2'}}</span>\n                                     </div>\n                                  </div>\n                               </div>\n                               <div class=\"invoice-price-right\">\n                                  <small>TOTAL</small> <span class=\"f-w-600\">${{ state?.appData?.data?.invoice.total * (5.4/100) + state?.appData?.data?.invoice.total | number: '.2-2' }} </span>\n                               </div>\n                            </div>\n                         </div>\n                         <div class=\"invoice-footer\">\n                            <p class=\"text-center m-b-5 f-w-600\">\n                               THANK YOU FOR YOUR BUSINESS\n                            </p>\n                            <p class=\"text-center\">\n                               <span class=\"m-r-10\"><i class=\"fa fa-fw fa-lg fa-globe\"></i> bostoneo.com</span> <br>\n                               <span class=\"m-r-10\"><i class=\"fa fa-fw fa-lg fa-phone-volume\"></i> Telephone:(123) 456-7890</span><br>\n                              <span class=\"m-r-10\"><i class=\"fa fa-fw fa-lg fa-envelope\"></i> Email: billing&#64;bostoneo.com</span>\n                            </p>\n                         </div>\n                      </div>\n                   </div>\n                </div>\n             </div>\n          </div>\n       </section>\n    </ng-container>\n </ng-container>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}