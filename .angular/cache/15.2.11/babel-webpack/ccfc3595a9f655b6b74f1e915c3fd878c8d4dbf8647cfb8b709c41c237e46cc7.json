{"ast":null,"code":"import { BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user.service\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../navbar/navbar.component\";\nimport * as i5 from \"../stats/stats.component\";\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"bg-success\": a0,\n    \"bg-primary\": a1,\n    \"bg-danger\": a2,\n    \"bg-info\": a3\n  };\n};\nfunction HomeComponent_ng_container_0_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 20)(1, \"th\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵelement(4, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 23);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_tr_37_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const customer_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.selectCustomer(customer_r4));\n    });\n    i0.ɵɵtext(18, \" View \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const customer_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", customer_r4.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(9, _c0, customer_r4.status === \"ACTIVE\", customer_r4.status === \"PENDING\", customer_r4.status === \"BANNED\", customer_r4.status === \"INACTIVE\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r4.type);\n  }\n}\nfunction HomeComponent_ng_container_0_nav_39_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 30)(1, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_39_li_6_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const i_r9 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.goToPage(i_r9));\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r9 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i_r9 === i0.ɵɵpipeBind1(2, 2, ctx_r7.currentPage$) ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r9 + 1, \" \");\n  }\n}\nconst _c1 = function () {\n  return [];\n};\nfunction HomeComponent_ng_container_0_nav_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 25)(1, \"ul\", 26)(2, \"li\", 27);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementStart(4, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_39_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.goToNextOrPreviousePage(\"backward\"));\n    });\n    i0.ɵɵtext(5, \"\\u00AB Prev\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, HomeComponent_ng_container_0_nav_39_li_6_Template, 4, 4, \"li\", 29);\n    i0.ɵɵelementStart(7, \"li\", 27);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementStart(9, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_nav_39_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.goToNextOrPreviousePage(\"forward\"));\n    });\n    i0.ɵɵtext(10, \"Next \\u00BB\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", 0 === i0.ɵɵpipeBind1(3, 3, ctx_r3.currentPage$) ? \"disabled\" : \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(7, _c1).constructor(state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.totalPages) - 1 === i0.ɵɵpipeBind1(8, 5, ctx_r3.currentPage$) ? \"disabled\" : \"\");\n  }\n}\nfunction HomeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0)(1);\n    i0.ɵɵelement(2, \"app-navbar\", 1)(3, \"app-stats\", 2);\n    i0.ɵɵelementStart(4, \"section\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8);\n    i0.ɵɵtext(10, \" 5% \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"h4\", 10);\n    i0.ɵɵtext(13, \"Customers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"i\", 11);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_Template_i_click_14_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.exportCustomers());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 6)(16, \"div\", 12)(17, \"table\", 13)(18, \"thead\", 14)(19, \"tr\")(20, \"th\", 15);\n    i0.ɵɵtext(21, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 16);\n    i0.ɵɵtext(23, \"Photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 16);\n    i0.ɵɵtext(25, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 16);\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 16);\n    i0.ɵɵtext(29, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 16);\n    i0.ɵɵtext(31, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 16);\n    i0.ɵɵtext(33, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\", 16);\n    i0.ɵɵtext(35, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tbody\");\n    i0.ɵɵtemplate(37, HomeComponent_ng_container_0_tr_37_Template, 19, 14, \"tr\", 17);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(38, \"div\", 18);\n    i0.ɵɵtemplate(39, HomeComponent_ng_container_0_nav_39_Template, 11, 8, \"nav\", 19);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"stats\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.stats);\n    i0.ɵɵadvance(34);\n    i0.ɵɵproperty(\"ngForOf\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.page.content.length) > 0);\n  }\n}\nexport class HomeComponent {\n  constructor(userService, customerService) {\n    this.userService = userService;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.currentPageSubject = new BehaviorSubject(0);\n    this.currentPage$ = this.currentPageSubject.asObservable();\n    this.showLogsSubject = new BehaviorSubject(false);\n    this.showLogs$ = this.showLogsSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.homeState$ = this.customerService.customers$().pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n  goToPage(pageNumber) {\n    this.homeState$ = this.customerService.customers$(pageNumber).pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      this.currentPageSubject.next(pageNumber);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADED,\n      appData: this.dataSubject.value\n    }), catchError(error => {\n      return of({\n        dataState: DataState.LOADED,\n        error,\n        appData: this.dataSubject.value\n      });\n    }));\n  }\n  goToNextOrPreviousePage(direction) {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 : this.currentPageSubject.value - 1);\n  }\n  selectCustomer(customer) {}\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"user\"], [3, \"stats\"], [1, \"customer-section\"], [1, \"container\"], [1, \"row\", \"mt-4\"], [1, \"col-12\"], [1, \"progress\", \"custom-progress\", \"mb-4\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"5\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\", \"progress-bar-striped\", \"progress-bar-animated\", 2, \"width\", \"5%\"], [1, \"col\", \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [1, \"fw-bold\", \"text-primary\"], [\"title\", \"Export to Excel\", 1, \"bi\", \"bi-file-earmark-excel\", \"export-icon\", 3, \"click\"], [1, \"table-responsive\", \"shadow-sm\", \"rounded\"], [1, \"table\", \"table-hover\", \"table-bordered\"], [1, \"table-light\"], [\"scope\", \"col\", 1, \"text-center\"], [\"scope\", \"col\"], [\"class\", \"cell-1 align-middle\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"mt-3\"], [\"aria-label\", \"Page navigation example\", 4, \"ngIf\"], [1, \"cell-1\", \"align-middle\"], [1, \"text-center\"], [\"width\", \"42\", \"height\", \"42\", 1, \"rounded-circle\", \"border\", 3, \"src\", \"alt\"], [1, \"badge\", \"text-uppercase\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"click\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\", \"justify-content-end\"], [1, \"page-item\", 3, \"ngClass\"], [1, \"page-link\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"class\", \"page-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-item\"], [1, \"page-link\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_ng_container_0_Template, 40, 4, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.homeState$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.NavbarComponent, i5.StatsComponent, i3.AsyncPipe],\n  styles: [\".disabled[_ngcontent-%COMP%]{\\n    pointer-events: none;\\n    opacity: 0.6;\\n}\\n\\n.customer-section[_ngcontent-%COMP%] {\\n    background: #f9fafb;\\n    padding: 30px 0;\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\n.custom-progress[_ngcontent-%COMP%] {\\n    height: 20px;\\n    border-radius: 10px;\\n    overflow: hidden;\\n    background-color: #e9ecef;\\n}\\n\\n.table-responsive[_ngcontent-%COMP%] {\\n    background-color: #ffffff;\\n    border-radius: 10px;\\n    overflow: hidden;\\n}\\n\\n.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n    background-color: #f1f1f1;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n    padding: 5px 10px;\\n    font-size: 0.875rem;\\n    border-radius: 20px;\\n}\\n\\n.btn-info[_ngcontent-%COMP%] {\\n    background-color: #17a2b8;\\n    border-color: #17a2b8;\\n    transition: all 0.3s;\\n}\\n\\n.btn-info[_ngcontent-%COMP%]:hover {\\n    background-color: #138496;\\n    border-color: #117a8b;\\n}\\n\\n.export-icon[_ngcontent-%COMP%] {\\n    cursor: pointer;\\n    color: #28a745;\\n    font-size: 30px;\\n    transition: color 0.3s;\\n}\\n\\n.export-icon[_ngcontent-%COMP%]:hover {\\n    color: #218838;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%] {\\n    color: #007bff;\\n    cursor: pointer;\\n    transition: background-color 0.3s, color 0.3s;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover {\\n    background-color: #007bff;\\n    color: #ffffff;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    border-color: #007bff;\\n    color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0lBQ3BCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLDREQUE0RDtBQUNoRTs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIscUJBQXFCO0lBQ3JCLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsY0FBYztJQUNkLGVBQWU7SUFDZixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksY0FBYztJQUNkLGVBQWU7SUFDZiw2Q0FBNkM7QUFDakQ7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7SUFDckIsY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5kaXNhYmxlZHtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBvcGFjaXR5OiAwLjY7XG59XG5cbi5jdXN0b21lci1zZWN0aW9uIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjlmYWZiO1xuICAgIHBhZGRpbmc6IDMwcHggMDtcbiAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XG59XG5cbi5jdXN0b20tcHJvZ3Jlc3Mge1xuICAgIGhlaWdodDogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjtcbn1cblxuLnRhYmxlLXJlc3BvbnNpdmUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4udGFibGUtaG92ZXIgdGJvZHkgdHI6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG59XG5cbi5iYWRnZSB7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xufVxuXG4uYnRuLWluZm8ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxN2EyYjg7XG4gICAgYm9yZGVyLWNvbG9yOiAjMTdhMmI4O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xufVxuXG4uYnRuLWluZm86aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxMzg0OTY7XG4gICAgYm9yZGVyLWNvbG9yOiAjMTE3YThiO1xufVxuXG4uZXhwb3J0LWljb24ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogIzI4YTc0NTtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgdHJhbnNpdGlvbjogY29sb3IgMC4zcztcbn1cblxuLmV4cG9ydC1pY29uOmhvdmVyIHtcbiAgICBjb2xvcjogIzIxODgzODtcbn1cblxuLnBhZ2luYXRpb24gLnBhZ2UtbGluayB7XG4gICAgY29sb3I6ICMwMDdiZmY7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcywgY29sb3IgMC4zcztcbn1cblxuLnBhZ2luYXRpb24gLnBhZ2UtbGluazpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbn1cblxuLnBhZ2luYXRpb24gLnBhZ2UtaXRlbS5hY3RpdmUgLnBhZ2UtbGluayB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgICBib3JkZXItY29sb3I6ICMwMDdiZmY7XG4gICAgY29sb3I6ICNmZmZmZmY7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["BehaviorSubject","map","startWith","catchError","of","DataState","i0","HomeComponent","constructor","userService","customerService","isLoadingSubject","asObservable","currentPageSubject","showLogsSubject","ngOnInit","homeState$","customers$","pipe","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","goToPage","pageNumber","value","goToNextOrPreviousePage","direction","selectCustomer","customer","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventType } from '@angular/router';\nimport { Observable, BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse, Page, Profile } from 'src/app/interface/appstates';\nimport { State } from 'src/app/interface/state';\nimport { User } from 'src/app/interface/user';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  homeState$: Observable<State<CustomHttpResponse<Page & User>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Page & User>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  private currentPageSubject = new BehaviorSubject<number>(0);\n  currentPage$ = this.currentPageSubject.asObservable();\n  private showLogsSubject = new BehaviorSubject<boolean>(false);\n  showLogs$ = this.showLogsSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private userService: UserService, private customerService: CustomerService) {}\n\n  ngOnInit(): void {\n    this.homeState$ = this.customerService.customers$()\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADING }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n\n  goToPage(pageNumber?: number): void {\n    this.homeState$ = this.customerService.customers$(pageNumber)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          this.currentPageSubject.next(pageNumber);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADED, appData: this.dataSubject.value }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.LOADED, error, appData: this.dataSubject.value})\n        })\n      )\n  }\n\n  goToNextOrPreviousePage(direction?: string): void {\n    this.goToPage(direction === 'forward' ? this.currentPageSubject.value + 1 :this.currentPageSubject.value - 1);\n  }\n\n  selectCustomer(customer): void {}\n\n}\n","<ng-container *ngIf=\"(homeState$ | async) as state\">\n  <ng-container>\n    <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n    <app-stats [stats]=\"state?.appData?.data?.stats\"></app-stats>\n    <section class=\"customer-section\">\n      <div class=\"container\">\n        <div class=\"row mt-4\">\n          <!-- Progress Bar -->\n          <div class=\"col-12\">\n            <div class=\"progress custom-progress mb-4\">\n              <div class=\"progress-bar bg-success progress-bar-striped progress-bar-animated\" role=\"progressbar\"\n                aria-valuenow=\"5\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 5%;\">\n                5%\n              </div>\n            </div>\n          </div>\n\n          <!-- Header -->\n          <div class=\"col d-flex justify-content-between align-items-center mb-3\">\n            <h4 class=\"fw-bold text-primary\">Customers</h4>\n            <i class=\"bi bi-file-earmark-excel export-icon\" (click)=\"exportCustomers()\" title=\"Export to Excel\"></i>\n          </div>\n\n          <!-- Table -->\n          <div class=\"col-12\">\n            <div class=\"table-responsive shadow-sm rounded\">\n              <table class=\"table table-hover table-bordered\">\n                <thead class=\"table-light\">\n                  <tr>\n                    <th class=\"text-center\" scope=\"col\">ID</th>\n                    <th scope=\"col\">Photo</th>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Email</th>\n                    <th scope=\"col\">Phone</th>\n                    <th scope=\"col\">Status</th>\n                    <th scope=\"col\">Type</th>\n                    <th scope=\"col\">Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let customer of state?.appData?.data?.page.content\" class=\"cell-1 align-middle\">\n                    <th class=\"text-center\">{{ customer.id }}</th>\n                    <td class=\"text-center\">\n                      <img [src]=\"customer.imageUrl\" width=\"42\" height=\"42\" class=\"rounded-circle border\"\n                        [alt]=\"customer.name\" />\n                    </td>\n                    <td>{{ customer.name }}</td>\n                    <td>{{ customer.email }}</td>\n                    <td>{{ customer.phone }}</td>\n                    <td>\n                      <span class=\"badge text-uppercase\" [ngClass]=\"{\n                          'bg-success': customer.status === 'ACTIVE',\n                          'bg-primary': customer.status === 'PENDING',\n                          'bg-danger': customer.status === 'BANNED',\n                          'bg-info': customer.status === 'INACTIVE'\n                        }\">\n                        {{ customer.status }}\n                      </span>\n                    </td>\n                    <td>{{ customer.type }}</td>\n                    <td>\n                      <button type=\"button\" (click)=\"selectCustomer(customer)\" class=\"btn btn-info btn-sm\">\n                        View\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          <!-- Pagination -->\n          <div class=\"col-12 mt-3\">\n            <nav *ngIf=\"state?.appData?.data?.page.content.length > 0\" aria-label=\"Page navigation example\">\n              <ul class=\"pagination justify-content-end\">\n                <li [ngClass]=\"0 === (currentPage$ | async) ? 'disabled' : ''\" class=\"page-item\">\n                  <a (click)=\"goToNextOrPreviousePage('backward')\" class=\"page-link\" style=\"cursor: pointer;\">&laquo;\n                    Prev</a>\n                </li>\n                <li *ngFor=\"\n                    let pageNumber of [].constructor(\n                      state?.appData?.data?.page.totalPages\n                    );\n                    let i = index\n                  \" class=\"page-item\">\n                  <a (click)=\"goToPage(i)\" [ngClass]=\"i === (currentPage$ | async) ? 'active' : ''\" class=\"page-link\"\n                    style=\"cursor: pointer;\">\n                    {{ i + 1 }}\n                  </a>\n                </li>\n                <li [ngClass]=\"\n                    (state?.appData?.data?.page.totalPages - 1) ===\n                    (currentPage$ | async)\n                      ? 'disabled'\n                      : ''\n                  \" class=\"page-item\">\n                  <a (click)=\"goToNextOrPreviousePage('forward')\" class=\"page-link\" style=\"cursor: pointer;\">Next\n                    &raquo;</a>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </div>\n    </section>\n  </ng-container>\n</ng-container>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}