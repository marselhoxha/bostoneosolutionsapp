{"ast":null,"code":"import { BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user.service\";\nimport * as i2 from \"src/app/service/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../navbar/navbar.component\";\nimport * as i5 from \"../stats/stats.component\";\nfunction HomeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1);\n    i0.ɵɵelement(2, \"app-navbar\", 1)(3, \"app-stats\");\n    i0.ɵɵelementStart(4, \"section\")(5, \"div\", 2)(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5);\n    i0.ɵɵtext(9, \" 5% \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 6)(11, \"h4\", 7);\n    i0.ɵɵtext(12, \"Customers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 6)(14, \"h4\", 8);\n    i0.ɵɵelement(15, \"i\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"table\", 11)(18, \"thead\")(19, \"tr\")(20, \"th\", 12);\n    i0.ɵɵtext(21, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 13);\n    i0.ɵɵtext(23, \"Photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 13);\n    i0.ɵɵtext(25, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 13);\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 13);\n    i0.ɵɵtext(29, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 13);\n    i0.ɵɵtext(31, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 13);\n    i0.ɵɵtext(33, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\", 13);\n    i0.ɵɵtext(35, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tbody\", 14)(37, \"tr\", 15)(38, \"th\", 16);\n    i0.ɵɵtext(39, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"td\");\n    i0.ɵɵelement(41, \"img\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"td\");\n    i0.ɵɵtext(43, \"John\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"td\");\n    i0.ɵɵtext(45, \"john@email.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"td\");\n    i0.ɵɵtext(47, \"1234567890\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\")(49, \"span\", 18);\n    i0.ɵɵtext(50, \" ACTIVE \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"td\");\n    i0.ɵɵtext(52, \"INDIVIDUAL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"td\")(54, \"button\", 19);\n    i0.ɵɵtext(55, \"View\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(56, \"nav\", 20)(57, \"ul\", 21)(58, \"li\", 22)(59, \"a\", 23);\n    i0.ɵɵtext(60, \"\\u00AB Prev\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"li\", 22)(62, \"a\", 23);\n    i0.ɵɵtext(63, \"1\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(64, \"li\", 22)(65, \"a\", 23);\n    i0.ɵɵtext(66, \"Next \\u00BB\");\n    i0.ɵɵelementEnd()()()()()()()();\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", state_r1 == null ? null : state_r1.appData == null ? null : state_r1.appData.data == null ? null : state_r1.appData.data.user);\n  }\n}\nexport class HomeComponent {\n  constructor(userService, customerService) {\n    this.userService = userService;\n    this.customerService = customerService;\n    this.dataSubject = new BehaviorSubject(null);\n    this.isLoadingSubject = new BehaviorSubject(false);\n    this.isLoading$ = this.isLoadingSubject.asObservable();\n    this.showLogsSubject = new BehaviorSubject(false);\n    this.showLogs$ = this.showLogsSubject.asObservable();\n    this.DataState = DataState;\n  }\n  ngOnInit() {\n    this.homeState$ = this.customerService.customers$().pipe(map(response => {\n      console.log(response);\n      this.dataSubject.next(response);\n      return {\n        dataState: DataState.LOADED,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR,\n        error\n      });\n    }));\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CustomerService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"user\"], [1, \"container\"], [1, \"row\", \"mt-3\"], [1, \"progress\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"5\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\"], [1, \"col\"], [1, \"fw-bold\", \"text-start\"], [1, \"fw-bold\", \"text-end\"], [1, \"bi\", \"bi-file-earmark-excel\", 2, \"cursor\", \"pointer\", \"color\", \"green\", \"font-size\", \"30px\"], [1, \"col-12\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\", 1, \"text-center\"], [\"scope\", \"col\"], [1, \"table-body\"], [1, \"cell-1\"], [1, \"text-center\"], [\"src\", \"https://img.freepik.com/free-icon/user_318-159711.jpg\", \"width\", \"42\", \"height\", \"42\", \"alt\", \"Avatar\", 1, \"rounded-circle\"], [1, \"badge\", \"bg-info\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\", \"justify-content-end\"], [1, \"page-item\", \"pointer\"], [1, \"page-link\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_ng_container_0_Template, 67, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.homeState$));\n    }\n  },\n  dependencies: [i3.NgIf, i4.NavbarComponent, i5.StatsComponent, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAqBA,eAAe,EAAEC,GAAG,EAAEC,SAAS,EAAEC,UAAU,EAAEC,EAAE,QAAQ,MAAM;AAClF,SAASC,SAAS,QAAQ,6BAA6B;;;;;;;;;ICHvDC,6BAAoD;IAE9CA,gCAA6D;IAE7DA,+BAAS;IAKEA,oBACF;IAAAA,iBAAM;IAETA,+BAAiB;IACiBA,0BAAS;IAAAA,iBAAK;IAEhDA,+BAAiB;IACeA,wBAA8F;IAAAA,iBAAK;IAEnIA,gCAAoB;IAIyBA,mBAAE;IAAAA,iBAAK;IAC3CA,+BAAgB;IAAAA,sBAAK;IAAAA,iBAAK;IAC1BA,+BAAgB;IAAAA,qBAAI;IAAAA,iBAAK;IACzBA,+BAAgB;IAAAA,sBAAK;IAAAA,iBAAK;IAC1BA,+BAAgB;IAAAA,sBAAK;IAAAA,iBAAK;IAC1BA,+BAAgB;IAAAA,uBAAM;IAAAA,iBAAK;IAC3BA,+BAAgB;IAAAA,qBAAI;IAAAA,iBAAK;IACzBA,+BAAgB;IAAAA,uBAAM;IAAAA,iBAAK;IAG/BA,kCAA0B;IAEEA,kBAAC;IAAAA,iBAAK;IAC9BA,2BAAI;IAAAA,2BAA4H;IAAAA,iBAAK;IACrIA,2BAAI;IAAAA,qBAAI;IAAAA,iBAAK;IACbA,2BAAI;IAAAA,+BAAkB;IAAAA,iBAAK;IAC3BA,2BAAI;IAAAA,2BAAU;IAAAA,iBAAK;IACnBA,2BAAI;IAECA,yBACF;IAAAA,iBAAO;IAEVA,2BAAI;IAAAA,2BAAU;IAAAA,iBAAK;IACnBA,2BAAI;IAC0CA,qBAAI;IAAAA,iBAAS;IAMjEA,gCAA0C;IAGfA,4BAAY;IAAAA,iBAAI;IAEvCA,+BAA8B;IACPA,kBAAC;IAAAA,iBAAI;IAE5BA,+BAA+B;IACRA,4BAAY;IAAAA,iBAAI;IAQvDA,0BAAe;;;;IAnEAA,eAAmC;IAAnCA,oJAAmC;;;ADYrD,OAAM,MAAOC,aAAa;EAUxBC,YAAoBC,WAAwB,EAAUC,eAAgC;IAAlE,gBAAW,GAAXD,WAAW;IAAuB,oBAAe,GAAfC,eAAe;IAP7D,gBAAW,GAAG,IAAIV,eAAe,CAA8B,IAAI,CAAC;IACpE,qBAAgB,GAAG,IAAIA,eAAe,CAAU,KAAK,CAAC;IAC9D,eAAU,GAAG,IAAI,CAACW,gBAAgB,CAACC,YAAY,EAAE;IACzC,oBAAe,GAAG,IAAIZ,eAAe,CAAU,KAAK,CAAC;IAC7D,cAAS,GAAG,IAAI,CAACa,eAAe,CAACD,YAAY,EAAE;IACtC,cAAS,GAAGP,SAAS;EAE2D;EAEzFS,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,IAAI,CAACL,eAAe,CAACM,UAAU,EAAE,CAChDC,IAAI,CACHhB,GAAG,CAACiB,QAAQ,IAAG;MACbC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACG,WAAW,CAACC,IAAI,CAACJ,QAAQ,CAAC;MAC/B,OAAO;QAAEK,SAAS,EAAElB,SAAS,CAACmB,MAAM;QAAEC,OAAO,EAAEP;MAAQ,CAAE;IAC3D,CAAC,CAAC,EACFhB,SAAS,CAAC;MAAEqB,SAAS,EAAElB,SAAS,CAACqB;IAAO,CAAE,CAAC,EAC3CvB,UAAU,CAAEwB,KAAa,IAAI;MAC3B,OAAOvB,EAAE,CAAC;QAAEmB,SAAS,EAAElB,SAAS,CAACuB,KAAK;QAAED;MAAK,CAAE,CAAC;IAClD,CAAC,CAAC,CACH;EACL;;;mBAzBWpB,aAAa;AAAA;;QAAbA,aAAa;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd1B3B,iFAsEgB;;;;MAtEDA,2DAA2B","names":["BehaviorSubject","map","startWith","catchError","of","DataState","i0","HomeComponent","constructor","userService","customerService","isLoadingSubject","asObservable","showLogsSubject","ngOnInit","homeState$","customers$","pipe","response","console","log","dataSubject","next","dataState","LOADED","appData","LOADING","error","ERROR","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.ts","/Users/marsel/bostoneo/bostoneosolutionsapp/src/app/component/home/home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventType } from '@angular/router';\nimport { Observable, BehaviorSubject, map, startWith, catchError, of } from 'rxjs';\nimport { DataState } from 'src/app/enum/datastate.enum';\nimport { CustomHttpResponse, Profile } from 'src/app/interface/appstates';\nimport { State } from 'src/app/interface/state';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  homeState$: Observable<State<CustomHttpResponse<Profile>>>;\n  private dataSubject = new BehaviorSubject<CustomHttpResponse<Profile>>(null);\n  private isLoadingSubject = new BehaviorSubject<boolean>(false);\n  isLoading$ = this.isLoadingSubject.asObservable();\n  private showLogsSubject = new BehaviorSubject<boolean>(false);\n  showLogs$ = this.showLogsSubject.asObservable();\n  readonly DataState = DataState;\n\n  constructor(private userService: UserService, private customerService: CustomerService) {}\n\n  ngOnInit(): void {\n    this.homeState$ = this.customerService.customers$()\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dataSubject.next(response);\n          return { dataState: DataState.LOADED, appData: response };\n        }),\n        startWith({ dataState: DataState.LOADING }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR, error })\n        })\n      )\n  }\n}\n","<ng-container *ngIf=\"(homeState$ | async) as state\">\n   <ng-container>\n      <app-navbar [user]=\"state?.appData?.data?.user\"></app-navbar>\n      <app-stats></app-stats>\n      <section>\n        <div class=\"container\">\n          <div class=\"row mt-3\">\n            <div class=\"progress\">\n               <div class=\"progress-bar bg-success\" role=\"progressbar\" aria-valuenow=\"5\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                 5%\n               </div>\n             </div>\n            <div class=\"col\">\n               <h4 class=\"fw-bold text-start\">Customers</h4>\n            </div>\n            <div class=\"col\">\n               <h4 class=\"fw-bold text-end\"><i style=\"cursor: pointer;color: green;font-size: 30px;\" class=\"bi bi-file-earmark-excel\"></i></h4>\n            </div>\n            <div class=\"col-12\">\n               <table class=\"table table-hover\">\n                 <thead>\n                    <tr>\n                     <th class=\"text-center\" scope=\"col\">ID</th>\n                     <th scope=\"col\">Photo</th>\n                     <th scope=\"col\">Name</th>\n                     <th scope=\"col\">Email</th>\n                     <th scope=\"col\">Phone</th>\n                     <th scope=\"col\">Status</th>\n                     <th scope=\"col\">Type</th>\n                     <th scope=\"col\">Action</th>\n                    </tr>\n                 </thead>\n                 <tbody class=\"table-body\">\n                    <tr class=\"cell-1\">\n                     <th class=\"text-center\">1</th>\n                     <td><img src=\"https://img.freepik.com/free-icon/user_318-159711.jpg\" width=\"42\" height=\"42\" class=\"rounded-circle\" alt=\"Avatar\"></td>\n                     <td>John</td>\n                     <td>john&#64;email.com</td>                          \n                     <td>1234567890</td>\n                     <td>\n                        <span class=\"badge bg-info\">\n                          ACTIVE\n                        </span>\n                     </td>\n                     <td>INDIVIDUAL</td>\n                     <td>\n                        <button type=\"button\" class=\"btn btn-info\">View</button>\n                     </td>\n                   </tr>\n                 </tbody>\n              </table>\n              \n               <nav aria-label=\"Page navigation example\">\n                 <ul class=\"pagination justify-content-end\">\n                   <li class=\"page-item pointer\">\n                     <a class=\"page-link\">&laquo; Prev</a>\n                   </li>\n                   <li class=\"page-item pointer\">\n                     <a class=\"page-link\">1</a>\n                   </li>\n                   <li  class=\"page-item pointer\">\n                     <a class=\"page-link\">Next &raquo;</a>\n                   </li>\n                 </ul>\n               </nav>\n            </div>\n          </div>\n        </div>\n      </section>\n   </ng-container>\n </ng-container>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}